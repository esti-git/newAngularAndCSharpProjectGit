(self.modernJsonp=self.modernJsonp||[]).push([["44665"],{222078:function(e,t,i){var l,n;i.r(t),i.d(t,{default:()=>r});let o=(n=[l={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CallToAction_advisoryAction",selections:[{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},l],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:n,storageKey:null}],type:"AdvisoryAction",abstractKey:null});o.hash="6ddea2ecd3dff2e1001c1e4d037cc858";let r=o},5755:function(e,t,i){i.r(t),i.d(t,{default:()=>n});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DefaultNotice_advisoryNotice",selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HyperlinkFormatText_textTag"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:"actionId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CallToAction_advisoryAction"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],type:"AdvisoryNotice",abstractKey:null};l.hash="5879c4710b107f258f42156bf3e47e37";let n=l},52950:function(e,t,i){i.r(t),i.d(t,{default:()=>n});let l={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"HyperlinkFormatText_textTag",selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null}],type:"TextTag",abstractKey:null};l.hash="4970946a36017d9ad0c751fd70cc512c";let n=l},90486:function(e,t,i){var l,n,o;i.r(t),i.d(t,{default:()=>a});let r=(n=[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],o=[l],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LegoNotice_advisoryNotice",selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[l,{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HyperlinkFormatText_textTag"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryFooter",kind:"LinkedField",name:"footer",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:"actionId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:o,storageKey:null}],storageKey:null}],type:"AdvisoryNotice",abstractKey:null});r.hash="fa2efeb6b4c660680d9f3a0e156c8007";let a=r},932334:function(e,t,i){var l;i.r(t),i.d(t,{default:()=>o});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedFiltersContext_oneBarModules",selections:[l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"moduleType",storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,concreteType:"FilterOption",kind:"LinkedField",name:"filters",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isSelected",storageKey:null},l,{alias:null,args:null,concreteType:"OneBarModuleDisplay",kind:"LinkedField",name:"display",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayText",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"feedUrl",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"OneBarModule",abstractKey:null};n.hash="92b841173868ce353dd00b5fce287546";let o=n},464788:function(e,t,i){i.r(t),i.d(t,{default:()=>n});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"hasSensitivityNotices_sensitivity",selections:[{alias:null,args:null,concreteType:"AdvisoryNotice",kind:"LinkedField",name:"notices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advisory",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"severity",storageKey:null}],type:"Sensitivity",abstractKey:null};l.hash="547e5abdb645851996d6a1b1a4027c56";let n=l},433100:function(e,t,i){i.d(t,{f:()=>w,l:()=>v});var l=i(667294),n=i(178226),o=i(735243),r=i(477738),a=i(148),s=i(252974),d=i(250182),c=i(655068),u=i(531624),_=i(515511),p=i(213491),h=i(360033),f=i(986475),m=i(640200),g=i(785893);let x=(e,t,i)=>{let l=t?.find(({action:e})=>e?.filter?.product_filter_type===i);if(!l)return;let n=(0,f.Z)(m.Z,!0)(l),o=e.findIndex(({action:e})=>e?.filter?.productFilterType===i);e[o]?e[o]=n:e.push(n)},y=(e,t,i,l)=>{let n=l.find(({action:t})=>"number"==typeof t?.filter?.productFilterType&&e.has(t.filter.productFilterType));if(n?.action?.filter){let e=n.action.filter.filterOptions;n.action.filter.appliedFilterOptions="string"==typeof t?e?.filter(e=>e?.[i]&&t.split(",").includes(String(e[i]))).map(e=>({...e,selected:!0})):[]}},{Provider:b,get:v}=(0,p.Z)("OneBarProductFilters");function w({children:e}){let[t,i]=(0,l.useState)([]),[p,f]=(0,l.useState)(null),m=function(){let{scope:e}=(0,a.n)();return[r.lw.BOARDS,r.lw.PINS_BUYABLE,r.lw.PINS_VIDEO,r.lw.USERS].includes(e)}(),v=(0,u.Z)(),w=(0,d.Z)(),j=(0,n.Z)(),B=(0,o.Z)(),S=(0,c.Z)(),A=(0,l.useCallback)(({oneBarModules:e,baseCacheKey:l})=>{let n=e?.filter(({module_type:e})=>17===e||0===e);if(!n||n?.length===0||!l)return;let o=l!==p,r=o?[]:t;(o||!m)&&x(r,n,4),(o||!v)&&x(r,n,1),(o||!w)&&x(r,n,0),(o||!j)&&x(r,n,3),(o||!B)&&x(r,n,6),(o||!S)&&[7,8,9].forEach(e=>{x(r,n,e)}),(0,h.ZP)(r,t)||(i(r),f(l))},[t,j,B,m,w,S,v,p]),P=(0,s.Z)(),{priceMax:C,priceMin:Z,scope:I,brands:T,onSale:k,colors:E,domains:F}=(0,a.n)();(0,l.useEffect)(()=>{if(!P||0===t.length)return;let e=(0,_.Z)(t);if(I!==r.lw.PINS){let t=(0,r.gi)(I),i=e.find(({moduleType:e})=>0===e);i?.action?.filter&&(i.action.filter.appliedFilterOptions=[...i.action.filter.filterOptions||[]].filter(Boolean).map(e=>{let{searchType:i}=e;return{searchType:i,selected:i===t}}))}if("string"==typeof C||"string"==typeof Z){let t=e.find(({action:e})=>e?.filter?.productFilterType===1);t?.action?.filter&&(t.action.filter.appliedFilterOptions=[t.action.filter.filterOptions?.[0]?{...t.action.filter.filterOptions[0],numericValue:Number(Z)}:null,t.action.filter.filterOptions?.[1]?{...t.action.filter.filterOptions[1],numericValue:Number(C)}:null].filter(Boolean))}y(new Set([3]),T,"stringValue",e),y(new Set([6]),E,"stringValue",e),y(new Set([0]),F,"stringValue",e),y(new Set([7,8,9]),k,"numericValue",e),(0,h.ZP)(e,t)||i(e)},[t,P,C,Z,I,T,E,F,k]);let z=(0,l.useMemo)(()=>({cachedProductFilterOneBarModules:t,cacheOneBarModules:A}),[t,A]);return(0,g.jsx)(b,{value:z,children:e})}},310878:function(e,t,i){i.d(t,{N$:()=>k,wy:()=>F,VA:()=>I});var l,n=i(667294),o=i(167912),r=i(433100),a=i(675450),s=i(17832),d=i(856853);let c=(e,t,i)=>i&&(0,s.nZ)(i,t)?a.v.MODIFIED:(0,s.B1)(t,e)||i&&(0,s.Uv)(i,e)||(0,s.Uv)(t,e)?a.v.CLEARED:a.v.APPLIED;function u(e,t){(0,s.ph)(t);let i=e.find(e=>e?.id===t.id),l=i?.rules,n=i?.filter_options?.find(e=>"selectedOptionId"in t&&e.id===t.selectedOptionId)?.rules||l;if(!n)return[e,[]];let o=[],r=[];return e.forEach(e=>{void 0!==e.product_filter_type&&n.includes(e.product_filter_type)?o.push(e):r.push(e)}),[o,r]}function _(e,t){switch(t.type){case"RESET_FILTERS":let[i,l]=t.payload,n=i,o=(0,d.Z)(l)?(0,s.iP)(i):l;return Object.values(o).forEach(e=>{let[t]=u(n,e);n=t}),{models:i,availableFilterModels:n,appliedFilters:l,filters:o,isFetching:!1,pendingDeletedSelections:{},status:c(i,l,o)};case"CLEAR_FILTERS":let r=e.models,_=(0,s.P5)(e.models);return Object.values(_).forEach(e=>{let[t]=u(r,e);r=t}),{...e,filters:_,availableFilterModels:r,pendingDeletedSelections:{},status:c(e.models,e.appliedFilters,_)};case"UPDATE_FILTER":let{payload:p}=t,[h,f]=u(e.models,p),m={...e.filters,[p.id]:p},g={...e.pendingDeletedSelections};return h.forEach(e=>{if(!e.id)return;let t=g[e.id];t&&(m[e.id]=t,delete g[e.id])}),f.forEach(e=>{if(!e.id)return;let t=m[e.id];t&&(g[e.id]=t,delete m[e.id])}),(0,s.ph)(p,e.models.find(e=>e.id===p.id))&&delete m[p.id],{...e,availableFilterModels:h,filters:m,pendingDeletedSelections:g,status:c(e.models,e.appliedFilters,m)};case"SUBMIT_FILTER":return{...e,pendingDeletedSelections:{},status:a.v.SUBMITTED};case"SUBMIT_FAILED":return{...e,status:a.v.FAILED};case"SUBMIT_COMPLETE":let{filters:x}=e;return{...e,appliedFilters:x,pendingDeletedSelections:{},status:c(e.models,x)};case"LOADING":return{...e,isFetching:!0};case"LOADING_COMPLETED_OR_FAILED":return{...e,isFetching:!1};default:return e}}var p=i(178226),h=i(735243),f=i(250182),m=i(655068),g=i(531624),x=i(360033);let y=new Set([1,0,3,6,7,8,9]),b=(e,t,i)=>{let l=t?.find(({product_filter_type:e})=>e===i);if(!l)return;let n=e.findIndex(({product_filter_type:e})=>e===i);e[n]?e[n]=l:e.push(l)},v=(e,t,i)=>{let l=t?.find(({product_filter_type:e})=>e===i);if(!l)return e;let n=e.findIndex(({product_filter_type:e})=>e===i);return e[n]?e[n]=l:e.push(l),e};var w=i(252974),j=i(213491),B=i(661376),S=i(148),A=i(657476),P=i(785893);let C=()=>{},{Provider:Z,getMaybe:I}=(0,j.Z)("UnifiedFiltersContext"),T=({applyInitFilters:e,children:t,filterModels:i,filters:l,isFetching:o,refreshFiltersData:r})=>{let{query:d}=(0,S.n)(),c=(0,w.Z)(),{getCachedFilters:u,cacheUnifiedFilterModelsWithProductFilters:j}=function(){let[e,t]=(0,n.useState)([]),[i,l]=(0,n.useState)(null),o=(0,g.Z)(),r=(0,f.Z)(),a=(0,p.Z)(),s=(0,h.Z)(),d=(0,m.Z)(),c=(0,n.useCallback)(({unifiedFilterModels:n,baseCacheKey:c})=>{let u=n?.filter(({product_filter_type:e})=>void 0!==e&&y.has(e));if(!u||u?.length===0||!c)return;let _=c!==i,p=_?[]:e;(_||!o)&&b(p,u,1),(_||!r)&&b(p,u,0),(_||!a)&&b(p,u,3),(_||!s)&&b(p,u,6),(_||!d)&&[7,8,9].forEach(e=>{b(p,u,e)}),(0,x.ZP)(p,e)||(t(p),l(c))},[e,a,s,r,d,o,i]);return{getCachedFilters:(0,n.useCallback)(t=>{if(!t||t?.length===0)return[];let i=[...t];return o&&(i=v(i,e,1)),r&&(i=v(i,e,0)),a&&(i=v(i,e,3)),s&&(i=v(i,e,6)),d&&[7,8,9].forEach(t=>{i=v(i,e,t)}),i},[e,a,s,r,d,o]),cacheUnifiedFilterModelsWithProductFilters:c}}(),B=e?.(i)||l||{},[A,C]=(0,n.useReducer)(_,{models:i,availableFilterModels:i,appliedFilters:B,filters:B,pendingDeletedSelections:{},isFetching:o,status:(0,s.B1)(B,i)||(0,s.Uv)(B,i)?a.v.CLEARED:a.v.APPLIED}),[I,T]=(0,n.useState)(i);(0,n.useEffect)(()=>{o&&C({type:"LOADING"})},[o]),(0,n.useEffect)(()=>{if(o||A.isFetching&&0===i.length)return;if(!(0,s.a$)(I,i))return void C({type:"LOADING_COMPLETED_OR_FAILED"});let t=i;c||(t=u([...i]),j({unifiedFilterModels:[...i],baseCacheKey:d})),C({type:"RESET_FILTERS",payload:[t,e?.(t)||{}]}),T(i)},[e,i,I,o,A.isFetching,u,j,d,c]);let k=(0,n.useMemo)(()=>({filterState:A,dispatch:C,refreshFiltersData:r}),[A,r]);return(0,P.jsx)(Z,{value:k,children:t})},k=({bookmark:e="",children:t,generateInitFilterCb:i})=>{let l=(0,w.Z)(),{data:n=null,refresh:o,isLoaded:a}=(0,B.Z)(!l&&e?{name:"ApiResource",options:{url:"/v3/filters/",data:{bookmark_string:e}}}:null),{cachedProductFilterOneBarModules:d}=(0,r.l)(),c=d.map(s.tx).filter(Boolean);return(0,P.jsx)(T,{applyInitFilters:i,filterModels:(l?c:n)||[],isFetching:l?0===c.length:!a||!e,refreshFiltersData:o,children:t})},E=(void 0!==l||(l=i(932334)).hash&&"92b841173868ce353dd00b5fce287546"!==l.hash&&console.error("The definition of 'UnifiedFiltersContext_oneBarModules' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),F=({children:e,oneBarModulesKey:t})=>{let{data:i,isFetching:l,isLoaded:r}=(0,A.Z)(),{oneBarModules:s}=i||{},d=(0,o.useFragment)(E,t),c=(0,n.useMemo)(()=>({dispatch:()=>{},filterState:{models:[],availableFilterModels:[],appliedFilters:{},filters:{},isFetching:l,pendingDeletedSelections:{},status:a.v.CLEARED},refreshFiltersData:C}),[l]),u=(d?[d]:s?.map(e=>e&&{action:e.action?{filters:e.action.filters?e.action.filters.map(e=>({isSelected:e.is_selected??null,id:e.id??null,display:e.display?{displayText:e.display.display_text??null}:null,action:e.action?{feedUrl:e.action.feed_url??null}:null})):null}:null,id:e.id??null,moduleType:e.module_type??null}))?.find(({moduleType:e})=>0===e),_=u?.action?.filters;if(!u||!_)return(0,P.jsx)(Z,{value:c,children:e});let p=u.id||"",h={[p]:{id:p,selectedOptionId:_.find((e,t)=>e?.isSelected&&0!==t)?.id||"",type:"single",lastChangedLocation:1}};return(0,P.jsx)(T,{filterModels:[{filter_component_type:2,filter_options:_.map((e,t)=>({label:e?.display?.displayText||"",id:e?.id||"",string_value:e?.action?.feedUrl||"",is_selected:"boolean"==typeof e?.isSelected?e.isSelected:0===t})),id:p,title:"",product_filter_type:4}],filters:h,isFetching:!r,refreshFiltersData:C,children:e})}},675450:function(e,t,i){i.d(t,{$:()=>l,v:()=>n});let l=50,n={APPLIED:"applied",CLEARED:"cleared",MODIFIED:"modified",SUBMITTED:"submitted",FAILED:"failed"}},190665:function(e,t,i){i.d(t,{Z:()=>c});var l=i(433100),n=i(310878),o=i(17832),r=i(986475),a=i(537701),s=i(629724),d=i(148);function c(){let{brands:e,colors:t,domains:i,onSale:c,priceMax:u,priceMin:_}=(0,d.n)(),p=(0,n.VA)(),{cachedProductFilterOneBarModules:h}=(0,l.l)(),f=Number((0,s.Z)().filter_location);if(1===f){let{filterState:e}=p||{};return e?(0,o.Ax)(e.appliedFilters,e.models):null}if(0===f){let l=(0,r.Z)(a.Z,!0)(h.map(e=>e.action?.filter).filter(Boolean));return(0,o.vJ)({brandsParam:e,colorsParam:t,domainsParam:i,onSaleParam:c,priceMaxParam:u,priceMinParam:_,unifiedFilterModels:l})}return null}},178226:function(e,t,i){i.d(t,{Z:()=>o});var l=i(312048),n=i(575820);function o(){return!!(0,n.mB)((0,l.TH)().search).brands}},735243:function(e,t,i){i.d(t,{Z:()=>r});var l=i(312048),n=i(501010),o=i(575820);function r(){let{checkExperiment:e}=(0,n.Z)(),t=(0,l.TH)(),{colors:i}=(0,o.mB)(t.search);return!!i&&!!e("shopping_onebar_color_filter",{dangerouslySkipActivation:!0}).anyEnabled}},252974:function(e,t,i){i.d(t,{Z:()=>n});var l=i(501010);function n(){let{checkExperiment:e}=(0,l.Z)();return e("dweb_search_shopping_filter_sds_dep_removal_v2",{dangerouslySkipActivation:!0}).anyEnabled}},250182:function(e,t,i){i.d(t,{Z:()=>o});var l=i(312048),n=i(575820);function o(){return!!(0,n.mB)((0,l.TH)().search).domains}},531624:function(e,t,i){i.d(t,{Z:()=>o});var l=i(312048),n=i(575820);function o(){let e=(0,l.TH)(),{price_max:t,price_min:i}=(0,n.mB)(e.search);return!!(i??t)}},17832:function(e,t,i){i.d(t,{Ak:()=>j,Ax:()=>b,B1:()=>_,LG:()=>w,P5:()=>f,UP:()=>B,Uv:()=>p,a$:()=>c,eF:()=>S,i7:()=>g,iP:()=>h,nZ:()=>d,ph:()=>u,rc:()=>y,tx:()=>v,vJ:()=>x});var l=i(675450),n=i(360033),o=i(477738);let r=e=>e.map(({filter_component_type:e,filter_options:t,title:i})=>({filter_component_type:e,filter_options:t?.map(({id:e,label:t,count:i,image_url:l,is_verified:n,numeric_value:o,string_value:r,unit:a})=>({id:e,label:t,count:i,image_url:l,is_verified:n,numeric_value:o,string_value:r,unit:a})),title:i})),a=(e,t)=>{if(!e&&!t)return!1;if(!e||!t)return!0;if("single"===e.type&&"single"===t.type)return e.selectedOptionId!==t.selectedOptionId;if("multi"===e.type&&"multi"===t.type)return!(0,n.ZP)(e.selectedOptionIds,t.selectedOptionIds);if("range"===e.type&&"range"===t.type)return e.min!==t.min||e.max!==t.max;throw Error("Filter type specific return must be specified")},s=e=>!e||!Object.keys(e).length,d=(e,t)=>{if(s(e)&&s(t))return!1;if(s(e)||s(t)||e&&t&&Object.entries(e).length!==Object.entries(t).length)return!0;for(let i in e)if(a(e[i],t?.[i]))return!0;return!1},c=(e,t)=>!(0,n.ZP)(r(e),r(t)),u=(e,t)=>{if("single"===e.type)return!e.selectedOptionId;if("multi"===e.type)return 0===e.selectedOptionIds.size;if("range"===e.type)return!!t?.filter_options&&e.min===t.filter_options[0]?.numeric_value&&e.max===t.filter_options[2]?.numeric_value;throw Error("Filter type specific return must be specified")},_=(e,t)=>{try{for(let i in e){let l=e[i],n=t.find(e=>e.id===l?.id);if(l&&!u(l,n))return!1}return!0}catch(e){return!0}},p=(e,t)=>{if(!t||0===t.length)return!1;let i=t[0];if(!i)return!1;switch(i?.filter_component_type){case 2:let l=i.filter_options?.[0];for(let t in e){let i=e[t];if(!i)break;if("selectedOptionId"in i&&i.selectedOptionId===l?.id)return!0}return!1;case 1:for(let t in e){let l=e[t];if(!l)break;if(l.id===i.id&&"selectedOptionIds"in l&&0===l.selectedOptionIds.size)return!0}return!1;default:return!1}},h=e=>e.map(e=>{switch(e.filter_component_type){case 2:let t=e.filter_options?.find(e=>e.is_selected)?.id;return t?{selectedOptionId:t,id:e.id,type:"single"}:null;case 1:let i=e.filter_options?.filter(e=>e.is_selected).map(({id:e})=>e);return i&&i.length>0?{selectedOptionIds:new Set(i),id:e.id,type:"multi"}:null;default:return null}}).reduce((e,t)=>t?{...e,[t.id]:t}:e,{}),f=e=>{if(!e||0===e.length)return{};let t=e[0];switch(t?.filter_component_type){case 2:let i=t.filter_options?.[0]?.id;return i&&"string"==typeof t.id?{[t.id]:{selectedOptionId:i,lastChangedLocation:1,id:t.id,type:"single"}}:{};case 1:return"string"==typeof t.id?{[t.id]:{selectedOptionIds:new Set,lastChangedLocation:1,id:t.id,type:"multi"}}:{};default:return{}}},m=e=>e.map(e=>{let{filter_id:t,filter_options:i,product_filter_type:l}=e,n=t;return"number"==typeof l&&(n+=`_${l}`),i.length>0&&(n+=":",i.forEach((e,t)=>{let{filter_option_id:l,numeric_value:o,string_value:r,unit:a}=e;n+=`${l}`,"number"==typeof o&&(n+=`_${o}`),"string"==typeof r&&(n+=`_${r}`),"string"==typeof a&&(n+=`_${a}`),t<i.length-1&&(n+=",")})),n}).join("|"),g=({brands:e,colors:t,domains:i,onSale:l,priceMax:n,priceMin:r,scope:a,unifiedFilterModels:s})=>{let d={};for(let{filter_options:c,id:u,product_filter_type:_}of s)if(u&&c?.length){if(1===_&&("number"==typeof r||"number"==typeof n)){let[e,t,i,l]=c,o=r??i?.numeric_value??e?.numeric_value??0,a=n??l?.numeric_value??t?.numeric_value??100;d[u]={min:o,max:a,id:u,type:"range",lastChangedLocation:1}}if(0===_&&i&&i.length>0){let e=i.map(e=>{let t=c.find(({string_value:t})=>t===e);return t?t.id:null}).filter(Boolean);e.length>0&&(d[u]={id:u,lastChangedLocation:1,selectedOptionIds:new Set(e),type:"multi"})}if(3===_&&e&&e.length>0){let t=e.map(e=>{let t=c.find(({string_value:t})=>t===e);return t?t.id:null}).filter(Boolean);t.length>0&&(d[u]={id:u,lastChangedLocation:1,selectedOptionIds:new Set(t),type:"multi"})}if(6===_&&t&&t.length>0){let e=t.map(e=>{let t=c.find(({string_value:t})=>t===e);return t?t.id:null}).filter(Boolean);e.length>0&&(d[u]={id:u,lastChangedLocation:1,selectedOptionIds:new Set(e),type:"multi"})}if(4===_&&a){let e=(0,o.gi)(a),t=c.find(({search_type:t})=>t===e);t?.id&&(d[u]={id:u,lastChangedLocation:1,selectedOptionId:t.id,type:"single"})}if("number"==typeof _&&new Set([7,8,9]).has(_)&&l){let e=c[0]?.id;e&&(d[u]={id:u,lastChangedLocation:1,selectedOptionId:e,type:"single"})}}return d},x=({brandsParam:e,colorsParam:t,domainsParam:i,onSaleParam:l,priceMaxParam:n,priceMinParam:o,unifiedFilterModels:r})=>{let a=[],s=Number(o),d=Number(n),c=Number.isNaN(s)?void 0:s,u=Number.isNaN(d)?void 0:d,_=i?.split(",").filter(Boolean)??[],p=e?.split(",").filter(Boolean)??[],h=t?.split(",").filter(Boolean)??[];for(let{filter_options:e,id:t,product_filter_type:i}of r)if(t&&e?.length){if(1===i&&"number"==typeof c&&"number"==typeof u){let l={filter_id:t,filter_options:e.slice(0,2).filter(e=>void 0!==e.id).map((e,t)=>({filter_option_id:e.id,numeric_value:0===t?c:u,unit:e.unit||"USD"})),location:0,product_filter_type:i};a.push(l)}if(0===i&&_&&_.length>0){let l=_.map(t=>{let i=e.find(e=>e.string_value===t);return i?i.id:null}).filter(Boolean);if(l.length>0){let e={filter_id:t,filter_options:l.map(e=>({filter_option_id:e,string_value:e})),location:0,product_filter_type:i};a.push(e)}}if(3===i&&p&&p.length>0){let l=p.map(t=>{let i=e.find(e=>e.string_value===t);return i?i.id:null}).filter(Boolean);if(l.length>0){let e={filter_id:t,filter_options:l.map(e=>({filter_option_id:e,string_value:e})),location:0,product_filter_type:i};a.push(e)}}if(6===i&&h&&h.length>0){let l=h.map(t=>{let i=e.find(e=>e.string_value?.toLowerCase()===t.toLowerCase());return i?i.id:null}).filter(Boolean);if(l.length>0){let e={filter_id:t,filter_options:l.map(e=>({filter_option_id:e,string_value:e})),location:0,product_filter_type:i};a.push(e)}}if(7===i&&l){let n=e[0]?.id;if(n){let e={filter_id:t,filter_options:[{filter_option_id:n,numeric_value:Number(l)}],location:0,product_filter_type:i};a.push(e)}}}return 0===a.length?null:m(a)},y=({filterMap:e,isInWebHundredPercentProductLoadExp:t,models:i})=>{let l=null,n=null,r=!1,a=null,s=null,d=null,c=null,u=null;for(let _ in e){let p=e[_];if(p){let e=i.find(e=>e.id===p.id);if(e)if("range"===p.type&&1===e.product_filter_type)d=p.min,s=p.max;else if("multi"===p.type&&0===e.product_filter_type){let t=e.filter_options?.filter(e=>p.selectedOptionIds.has(e.id||""));a=t?.map(e=>e.string_value).filter(Boolean)}else if("multi"===p.type&&3===e.product_filter_type){let t=e.filter_options?.filter(e=>p.selectedOptionIds.has(e.id||""));l=t?.map(e=>e.string_value).filter(Boolean)}else if("multi"===p.type&&6===e.product_filter_type){let t=e.filter_options?.filter(e=>p.selectedOptionIds.has(e.id||""));n=t?.map(e=>e.string_value).filter(Boolean)}else if("single"===p.type&&4===e.product_filter_type){let i=e.filter_options?.find(e=>p.selectedOptionId===e.id),l=i&&void 0!==i.search_type?(0,o.zh)(i.search_type):o.lw.PINS;u=l,t&&(u=l===o.lw.PINS_BUYABLE?o.lw.PINS:l,r=l===o.lw.PINS_BUYABLE)}else"single"===p.type&&7===e.product_filter_type&&(c=e.filter_options?.[0]?.numeric_value)}}let _=i.find(e=>4===e.product_filter_type),p=_?.filter_options?.find(e=>e.is_selected);return null===u&&"number"==typeof p?.search_type&&(u=(0,o.zh)(p.search_type)),{brands:l,colors:n,commerce_only:r,domains:a,max:s,min:d,on_sale:c,scope:u}},b=(e,t)=>{let i=[];return(Object.entries(e).forEach(([e,l])=>{let n=t.find(e=>e.id===l.id);if(!n||4===n.product_filter_type||"number"!=typeof n.product_filter_type||!n.filter_options)return;let o=[];if("range"===l.type){let[e,t]=n.filter_options;if(!e?.id||!t?.id)return;o=[{filter_option_id:e.id,numeric_value:l.min,unit:e.unit},{filter_option_id:t.id,numeric_value:l.max,unit:t.unit}]}if("single"===l.type){let e=n.filter_options.find(e=>e.id===l.selectedOptionId);if(!e?.id)return;o=[{filter_option_id:e.id,numeric_value:e.numeric_value,string_value:e.string_value}]}if("multi"===l.type){let e=n.filter_options.filter(e=>e.id&&l.selectedOptionIds.has(e.id));if(0===e.length)return;o=e.filter(e=>void 0!==e.id).map(e=>({filter_option_id:e.id,numeric_value:e.numeric_value,string_value:e.string_value}))}i.push({filter_id:e,filter_options:o,location:l.lastChangedLocation,product_filter_type:n.product_filter_type})}),i&&0!==i.length)?m(i):null},v=e=>{let{filter:t,title:i}=e.action||{},{title:l}=t||{},n=i||l;if(!t||!n)return null;let{filterComponentType:o,productFilterType:r,id:a}=t,s=(t.filterOptions||[]).filter(Boolean);if(void 0===o||void 0===s||0===s.length||null==r||null==a)return null;let d=(e=>{let t=e.map(e=>{if(!e)return null;let{auxData:t,id:i,imageUrl:l,isVerified:n,label:o,numericValue:r,searchType:a,stringValue:s,unit:d,rules:c}=e;return null===l||null===l||null===r||null===n||null===s||null===d?null:{id:i||"",label:o||"",count:0,image_url:l,is_verified:n,numeric_value:r,...c?{rules:[...c]}:{},..."number"==typeof a?{search_type:a}:{},string_value:s,unit:d,..."string"==typeof t?.moduleId?{aux_data:{module_id:t.moduleId}}:{}}}).filter(Boolean);return t.length>0?t:null})(s);return d?{filter_component_type:o,filter_options:[...d],id:a||"",product_filter_type:r,title:n}:null};function w(e,t,i){let[n,o,r,a]=i,{numeric_value:s=0}=a??n??{},{numeric_value:d=s+l.$}=r??o??{},{unit:c="USD"}=n??{},u=e.filters[t]?.type==="range"?e.filters[t]:{min:s,max:d,id:t,type:"range",lastChangedLocation:1};return{defaultMax:d,defaultMin:s,unit:c,range:u}}function j(e){return"multi"!==e.type?e:{...e,selectedOptionIds:new Set}}function B(e,t){let i=[];return Object.entries(t).forEach(([t,l])=>{let n=e.find(e=>e?.id===t);if(n){let e=n.aux_data?.module_id;e&&i.push(e);let t=("multi"===l.type?Array.from(l.selectedOptionIds):"single"===l.type?[l.selectedOptionId]:[]).map(e=>{let t=n.filter_options?.find(t=>t.id===e);return t?.aux_data?.module_id||""}).filter(Boolean);i.push(...t)}}),i}function S(e,t){let i=[];return Object.keys(t).forEach(t=>{let l=e.find(e=>e?.id===t);if(l){let e=l.product_filter_type;e&&i.push(e)}}),i}},611649:function(e,t,i){i.d(t,{Z:()=>s});var l=i(935059),n=i(501010),o=i(739405),r=i(200619),a=i(601871);function s(e){let t=(0,o.HG)(),{checkExperiment:i}=(0,n.Z)(),s=(0,r.Z)(),d=(0,l.Z)(),c=(0,a.lJ)(d,s),u=!t||i("web_sce_organic_pinbuilder_dep").anyEnabled;return!c&&(e&&i("sce_lightswitch_organic"),!t||!!u)}},272598:function(e,t,i){i.d(t,{Z:()=>P});var l=i(686659),n=i(667294),o=i(740097),r=i(505633),a=i(753806),s=i(581909),d=i(916559),c=i(465784),u=i(986475),_=i(640200),p=i(721703),h=i(9065),f=i(785893);let m=(0,h.Z)(()=>i.e("88929").then(i.bind(i,775533)),{ssr:!1},e=>775533,void 0,void 0),g=(0,h.Z)(()=>i.e("33629").then(i.bind(i,282842)),{ssr:!1},e=>282842,void 0,void 0),x=(0,h.Z)(()=>Promise.all([i.e("6608"),i.e("74374")]).then(i.bind(i,568432)),{ssr:!1},e=>568432,void 0,void 0),y=(0,h.Z)(()=>i.e("12026").then(i.bind(i,788635)),{ssr:!1},e=>788635,void 0,void 0),b=(0,h.Z)(()=>Promise.all([i.e("15417"),i.e("47633")]).then(i.bind(i,50415)),{ssr:!1},e=>50415,void 0,void 0),v=(0,h.Z)(()=>i.e("3256").then(i.bind(i,126963)),{ssr:!1},e=>126963,void 0,void 0),w=(0,h.Z)(()=>i.e("1295").then(i.bind(i,826241)),{ssr:!1},e=>826241,void 0,void 0),j=(0,h.Z)(()=>i.e("29376").then(i.bind(i,708459)),{ssr:!1},e=>708459,void 0,void 0),B=(0,h.Z)(()=>i.e("28234").then(i.bind(i,182112)),{ssr:!1},e=>182112,void 0,void 0),S=[505420,505933,506173,506124,506436],A=({complete:e,dismiss:t,experience:i,placementId:l})=>{let{experience_id:n,display_data:a}=i,d=function(e){switch(e){case 504721:return w;case 504569:return v;case 504032:return j;case 502271:return g;case 505093:return B;default:return m}}(n),h=function(e){switch(e){case 504721:return 660;case 500331:return"md";default:return"sm"}}(n),{setObserverRef:A}=(0,s.NQ)();return(0,f.jsxs)(o.xu,{ref:A,children:[!S.includes(n)&&(0,f.jsx)(c.ZP,{accessibilityModalLabel:"",onDismiss:t,size:h,children:(0,f.jsx)(d,{...(0,u.Z)(_.Z)(a),experienceId:n,handleComplete:e,handleDismiss:t,placementId:l})}),506124===n&&(0,f.jsx)(x,{handleComplete:e,handleDismiss:t,isDesktop:!0,isGooglePrimary:!0,...(0,u.Z)(_.Z)(a)}),(506173===n||506436===n)&&(0,f.jsx)(x,{handleComplete:e,handleDismiss:t,isDesktop:!0,isGooglePrimary:!1,...(0,u.Z)(_.Z)(a)}),505420===n&&(0,f.jsx)(b,{experienceId:505420,onSubmitSurvey:async()=>{(0,r.Z)((0,p.Z)({site:"www",path:"/business/marketing-plan"}))},placementId:l,viewType:251}),505933===n&&(0,f.jsx)(y,{handleComplete:()=>{e(),(0,r.Z)((0,p.Z)({site:"sterling",path:"/reporting/"}))},handleDismiss:t,onAdsReportingSurface:!1})]})};function P({placementId:e}){(0,n.useEffect)(()=>{(0,l.Z)("ExperienceModal","/app/common/react/components/experiences/ExperienceModal/ExperienceModal.tsx")},[]);let{enableExperienceSession:t,endOnSurfaceChange:i}=(0,d.Z)(e);return(0,f.jsx)(n.Fragment,{children:(0,f.jsx)(a.a3,{customExperienceSession:!0,eligibleIds:[501312,500331,502271,504032,504569,504721,505093,505420,505933,506173,506124,506436],enableExperienceSession:t,placementId:e,sessionEndOnSurfaceChange:i,children:({complete:t,dismiss:i,experience:l})=>(0,f.jsx)(A,{complete:t,dismiss:i,experience:l,placementId:e})})})}},564023:function(e,t,i){i.d(t,{Z:()=>n});var l=i(47755);let n=async e=>(await (0,l.Z)({url:"/v3/board/{board}/report_reasons/",urlParams:{board:e}})).resource_response.data},711960:function(e,t,i){i.d(t,{Z:()=>n});var l=i(47755);let n=async(e,t)=>await (0,l.Z)({url:"/v3/board/{board}/flag/",urlParams:{board:e},method:"POST",data:t})},59355:function(e,t,i){i.d(t,{Q:()=>s,Z:()=>d});var l=i(667294),n=i(104999),o=i(746868),r=i(730056),a=i(774838);function s(e,t){let{setViewContextData:i}=(0,o.A$)(),{requestIdentifier:s}=(0,a.B)(),d=(0,n.Z)(),{viewData:c}=(0,o.SU)();(0,l.useEffect)(()=>{e&&(i({viewType:e.view_type??1,viewParameter:e.view_parameter,viewData:e.view_data?(0,r.Z)(c,e.view_data):c,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),d({...e,event_type:13,request_identifier:s}))},[t])}function d(e){let{children:t,log:i}=e;return s(i),t||null}},42676:function(e,t,i){i.d(t,{Tb:()=>s,vW:()=>a});var l=i(575820),n=i(99737),o=i(405897),r=i(34550);function a({searchParams:e,sourceUrl:t,isDesktop:i,isAuthenticated:l,appliedUnifiedFilters:n}){let{autoCorrectionDisabled:o,bubbleId:r,category:a,currentlyAppliedFiltersParamTerm:s,domains:c,guidedSearchQuery:u,inGlobalSearch:_,journeyDepth:p,personalizationPinSig:h,priceMax:f,priceMin:m,query:g,requestParams:x,rs:y,scope:b,selectedOneBarModules:v,sourceId:w,sourceModuleId:j,topPinIds:B,user:S}=e;return function(e){let{selectedOneBarModules:t,currentlyAppliedFiltersParamTerm:i,personalizationPinSig:l,inGlobalSearch:n,appliedUnifiedFilters:o,initialCategory:r,initialDomains:a,initialMaxPrice:s,initialMinPrice:c,isDuplo:u,..._}=e,p=t?.split(","),h={..._,filters:i,selectedOneBarModules:p,selectedPinImgSig:l};if(n)return d(h);let f={...h,appliedUnifiedFilters:o,appliedProductFilters:function({category:e,domains:t,maxPrice:i,minPrice:l}){return[e,t,i,l].map(e=>e??"").join("-")}({category:r,domains:a,maxPrice:s,minPrice:c})};return u&&(f.domains=a,f.priceMax=s?parseInt(s,10):void 0,f.priceMin=c?parseInt(c,10):void 0),d(f)}({appliedUnifiedFilters:n,autoCorrectionDisabled:o,bubbleId:r,currentlyAppliedFiltersParamTerm:s,guidedSearchQuery:u,inGlobalSearch:_,initialCategory:a,initialDomains:c,initialMaxPrice:f,initialMinPrice:m,isDuplo:!l||!i,journeyDepth:p,personalizationPinSig:h,query:g,requestParams:x,rs:y,scope:b,selectedOneBarModules:v,sourceId:w,sourceModuleId:j,sourceUrl:t,topPinIds:B,user:S})}function s({appliedProductFilters:e,applied_unified_filters:t,auto_correction_disabled:i,filters:l,journey_depth:n,query:o,rs:r,scope:a,selected_one_bar_modules:s,query_pin_sigs:d,source_id:c,source_module_id:u,top_pin_ids:_,user:p}){let h=[e,l,n,o,r,a,s,d,c,u,t,_,p].map(e=>e??"").join(":");return i?"auto-correction-disabled:"+h:h}function d(e){return{name:"BaseSearchResource",options:(e=>{let{query:t="",scope:i="pins",appliedUnifiedFilters:a=null,appliedProductFilters:s=null,filters:d=null,domains:c=null,priceMax:u=null,priceMin:_=null,rs:p=o.i.DIRECT_NAVIGATION,journeyDepth:h=null,sourceId:f=null,sourceModuleId:m=null,sourceUrl:g=null,selectedOneBarModules:x=null,selectedPinImgSig:y=null,user:b=null,autoCorrectionDisabled:v=!1,seoDrawerEnabled:w=!1,bubbleId:j=null,pageSize:B=null,requestParams:S=null,topPinIds:A=null}=e,P="undefined"!=typeof window?(0,r.M0)().getItem("pwt_performance_testing"):null,C=g&&g.includes("pwt_performance_testing"),Z=!!(!0===P||"true"===P||C);return{query:t,scope:i,appliedProductFilters:s,domains:c,user:b,seoDrawerEnabled:w,applied_unified_filters:a,auto_correction_disabled:v,journey_depth:h,source_id:f,source_module_id:m,source_url:function(e){if(!e)return"";let t=new Set,i=e.split("?")[1];i&&i.split("&").forEach(e=>{e.includes("=")||t.add(e)});let{directory:o,queryKey:r}=(0,n.Z)((0,l.Gw)(e,["request_params"])),a=Object.keys(r).sort().map(e=>t.has(e)?e:`${e}=${r[e]}`).join("&");return a?`${o}?${a}`:o}(g),static_feed:Z,selected_one_bar_modules:x,query_pin_sigs:y,page_size:B,price_max:u,price_min:_,request_params:S,top_pin_ids:A,article:j,corpus:y?"personalize":null,customized_rerank_type:y?"manas_graph_sage_only_wand_rewrite":null,filters:d,rs:p,redux_normalize_feed:!0}})({...e,autoCorrectionDisabled:!!e.autoCorrectionDisabled})}}},537701:function(e,t,i){i.d(t,{Z:()=>l});function l(e,t){let i=t?.separateNumbers?/([A-Z]|\d)/g:/([A-Z])/g;return e.replace(i,(e,t)=>"_"+t.toLowerCase())}},118376:function(e,t,i){i.d(t,{Z:()=>s});var l=i(740097),n=i(924591),o=i(24246),r=i(577356),a=i(785893);function s(){let{showToast:e}=(0,r.dI)(),t=(0,o.Z)();return()=>{e(({hideToast:e})=>(0,a.jsx)(n.Z,{duration:5e3,onHide:e,text:t.bt("נחסם. לניהול רשימת החסימות שלכם, ראו הרשאות חברתיות בהגדרות.", "Blocked. To manage your block list, see social permissions in settings.", "blockedAccounts.blockConfirmMessage", undefined, true),thumbnail:{icon:(0,a.jsx)(l.JO,{accessibilityLabel:t.bt("סמל הצלחה", "Success icon", "blockedAccounts.blockConfirmMessage.icon", undefined, true),color:"default",icon:"check-circle-fill",size:12})}}))}}},181735:function(e,t,i){i.d(t,{Z:()=>z});var l,n,o,r,a=i(686659),s=i(667294),d=i(230201),c=i(501010),u=i(774838),_=i(739405),p=i(893957),h=i(514821);i(167912);var f=i(740097),m=i(183e3),g=i(104999),x=i(748336),y=i(631284),b=i(166613),v=i(785893);let w=(void 0!==l||(l=i(222078)).hash&&"6ddea2ecd3dff2e1001c1e4d037cc858"!==l.hash&&console.error("The definition of 'CallToAction_advisoryAction' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function j({auxData:e,actionKey:t,alignCenter:i}){(0,s.useEffect)(()=>{(0,a.Z)("CallToAction","/app/www/ContentSensitivityOnDesktop/CallToAction.tsx")},[]);let l=(0,m.Z)(w,t),n=(0,g.Z)(),o=(0,_.HG)(),{title:r,description:d,button:c}=l,u=c?.text,p=r?.text,h=d?.text,j=c?.link??"",B=j.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").replace("/",""),S=u&&j.startsWith("http"),A=(0,x.Z)({url:j}),P=S&&A?"nofollow":"none";return e?.advisory_type===b.Uv?(0,v.jsx)(s.Fragment,{children:(0,v.jsxs)(f.kC,{direction:"column",gap:3,justifyContent:"start",children:[!!p&&(0,v.jsx)(f.xv,{align:"start",weight:"bold",children:p}),!!h&&(0,v.jsx)(f.xv,{align:"start",children:h}),(0,v.jsx)(f.ZP,{color:"tertiary",href:j,onClick:()=>{(0,y.qA)({auxData:{...e,url:j},isDesktop:o,logContextEvent:n})},rel:P,text:u||"Visit"})]})}):S?(0,v.jsxs)(s.Fragment,{children:[(0,v.jsx)(f.xu,{marginBottom:1,children:(0,v.jsx)(f.xv,{align:i?"center":"start",weight:"bold",children:""!==u?u:"Visit"})}),(0,v.jsx)(f.xu,{marginBottom:1,children:(0,v.jsx)(f.rU,{href:j,onClick:()=>{(0,y.qA)({logContextEvent:n,auxData:{...e,url:j},isDesktop:o})},rel:P,children:(0,v.jsx)(f.xv,{align:i?"center":"start",lineClamp:1,underline:!0,weight:"normal",children:B})})})]}):(0,v.jsxs)(s.Fragment,{children:[!!p&&(0,v.jsx)(f.xu,{marginBottom:1,children:(0,v.jsx)(f.xv,{align:i?"center":"start",weight:"bold",children:p})}),!!h&&(0,v.jsx)(f.xu,{marginBottom:1,children:(0,v.jsx)(f.xv,{align:i?"center":"start",children:h})})]})}let B=(void 0!==n||(n=i(52950)).hash&&"4970946a36017d9ad0c751fd70cc512c"!==n.hash&&console.error("The definition of 'HyperlinkFormatText_textTag' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function S({text:e,textTags:t,auxData:i}){let l=(0,g.Z)(),n=(0,_.HG)(),o=[],r=0;for(let a=0;a<t.length;a+=1){let s=t[a];if(5===s.tagType&&s.link){let{offset:t,length:d,link:c}=s;if(null!=t&&null!=d&&null!=c){let s=e.substring(t,t+d),u=(0,v.jsx)(f.xv,{inline:!0,weight:"bold",children:(0,v.jsx)(f.rU,{display:"inlineBlock",href:c,onClick:()=>{(0,y.qA)({logContextEvent:l,auxData:{...i,url:c},isDesktop:n})},target:"blank",underline:"hover",children:s})},`link-${a}-${t}`);o.push((0,v.jsx)("span",{children:e.substring(r,t)},`text-${a}-${r}`)),o.push(u),r=t+d}}}return(r>0&&o.push((0,v.jsx)("span",{children:e.substring(r)},`text-end-${r}`)),0===o.length)?[(0,v.jsx)("span",{children:e},"text-full")]:o}function A({auxData:e,textTagKey:t,text:i}){(0,s.useEffect)(()=>{(0,a.Z)("HyperlinkFormatText","/app/www/ContentSensitivityOnDesktop/HyperlinkFormatText.tsx")},[]);let l=(0,m.Z)(B,t);return(0,v.jsx)(S,{auxData:e,text:i,textTags:l})}let P=[4,14],C={backgroundColor:"#E1F8F7",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},Z={boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},I=(void 0!==o||(o=i(5755)).hash&&"5879c4710b107f258f42156bf3e47e37"!==o.hash&&console.error("The definition of 'DefaultNotice_advisoryNotice' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o);function T({auxData:e,advisory:t,inModal:i,noticeKey:l}){(0,s.useEffect)(()=>{(0,a.Z)("DefaultNotice","/app/www/ContentSensitivityOnDesktop/DefaultNotice.tsx")},[]);let{title:n,description:o,actions:r}=(0,m.Z)(I,l),d=!!r?.length&&(e?.advisory_type===b.Uv||!!t&&P.includes(t)),c=r?.length===1,u=o&&o.text||"";return(0,v.jsxs)(f.xu,{dangerouslySetInlineStyle:{__style:i?Z:C},padding:6,rounding:2,children:[!!n&&!i&&(0,v.jsx)(f.xu,{display:"flex",marginBottom:2,children:(0,v.jsx)(f.qd,{size:"600",children:n})}),!!u&&o?.textTags!=null&&(0,v.jsx)(f.xu,{"data-test-id":"search-advisory",marginBottom:4,children:(0,v.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:(0,v.jsx)(f.xv,{align:i?"center":"start",overflow:"normal",children:(0,v.jsx)(A,{auxData:e,text:u,textTagKey:o.textTags})})})}),d&&(0,v.jsx)(f.xu,{direction:i?"column":"row",display:"flex",marginEnd:-2,marginStart:-2,wrap:!0,children:r?.map(t=>(0,v.jsx)(f.xu,{column:i||c?12:6,paddingX:2,paddingY:1,children:(0,v.jsx)(j,{actionKey:t,alignCenter:i||c,auxData:e})},t.actionId))})]})}let k=(void 0!==r||(r=i(90486)).hash&&"fa2efeb6b4c660680d9f3a0e156c8007"!==r.hash&&console.error("The definition of 'LegoNotice_advisoryNotice' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function E({auxData:e,noticeKey:t}){(0,s.useEffect)(()=>{(0,a.Z)("LegoNotice","/app/www/ContentSensitivityOnDesktop/LegoNotice.tsx")},[]);let i=(0,m.Z)(k,t),l=(0,g.Z)(),n=(0,_.HG)(),o={color:"#004b91",display:"block",fontSize:"28px",WebkitFontSmoothing:"antialiased"};return(0,v.jsxs)(f.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:3,width:"100%",children:[(0,v.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#86d1ce"}},display:"flex",justifyContent:"center",rounding:8,width:656,children:(0,v.jsxs)(f.xu,{"data-test-id":"search-advisory",height:"100%",padding:10,width:"100%",children:[(0,v.jsx)("span",{style:o,children:i.description?.textTags&&(0,v.jsx)(A,{text:i.description?.text||"",textTagKey:i.description.textTags})}),(0,v.jsx)(f.xu,{marginTop:6,children:(i.actions??[]).map(t=>{let i=t.button?.link;return i&&i.startsWith("tel")?(0,v.jsxs)(f.xu,{children:[(0,v.jsx)("span",{style:{fontWeight:"600",...o},children:t.title?.text}),(0,v.jsx)("span",{style:o,children:t.description?.text})]},t.actionId):(0,v.jsx)(f.rU,{href:i||"",onClick:()=>{(0,y.qA)({logContextEvent:l,auxData:{...e,url:i||"",isLegoNotice:!0},isDesktop:n})},children:(0,v.jsx)(f.xu,{display:"inlineBlock",children:(0,v.jsx)(f.xu,{alignItems:"center",color:"infoBase",display:"flex",height:44,justifyContent:"center",paddingX:12,rounding:"pill",children:(0,v.jsx)(f.xv,{color:"inverse",weight:"bold",children:t.button?.text||""})})})},t.actionId)})})]})}),!!i.footer&&(0,v.jsx)(f.xu,{paddingY:2,width:540,children:(0,v.jsx)(f.rU,{display:"inlineBlock",href:i.footer.link??"",onClick:()=>{(0,y.qA)({logContextEvent:l,auxData:{...e,url:i.footer?.link??"",isLegoNotice:!0},isDesktop:n})},target:"blank",underline:"hover",children:(0,v.jsx)(f.xv,{align:"center",color:"subtle",size:"100",children:(0,v.jsx)("div",{dangerouslySetInnerHTML:{__html:i.footer.text??""}})})},i.footer.link)})]})}var F=i(767415);function z({boardId:e,isOwnBoard:t,boardName:i,boardSectionId:l,notices:n,query:o,sensitivity:r,viewParameter:f,viewType:m,inModal:g}){(0,s.useEffect)(()=>{(0,a.Z)("SensitiveContentNotice","/app/www/ContentSensitivityOnDesktop/SensitiveContentNotice.tsx")},[]),function({advisoryDetails:e,boardId:t,boardName:i,boardSectionId:l,query:n,sensitivity:o,viewParameter:r,viewType:a}){let{logContextEvent:s}=(0,d.u)(),c=(0,_.HG)();(0,p.Z)(()=>{a&&(s({aux_data:{entered_query:n,advisory_details:e,advisory_level:o?.advisory,severity_level:o?.severity,advisory_type:o?.advisory_type,resource_country:o?.resource_country},component:13367,event_type:120,view_parameter:r,view_type:a}),(0,F.QX)("webapp.advisories.view",1,{sampleRate:1,tags:{advisory_level:o?.advisory,advisory_type:o?.advisory_type,app:c?"DESKTOP_WEB":"MOBILE_WEB",resource_country:o?.resource_country,placement:5===a?"board":"search"}})),t&&5===a&&s({aux_data:{board_name:i,board_id:t,board_section_id:l??0},component:178,event_type:15549,view_parameter:r,view_type:a})})}({advisoryDetails:r?.advisory_details,boardId:e,boardSectionId:l,query:o,sensitivity:{advisory:r?.advisory,severity:r?.severity},viewParameter:f,viewType:m});let{checkExperiment:x}=(0,c.Z)(),y=(0,u.B)(),b={advisory_level:r?.advisory||null,severity_level:r?.severity||null,advisory_type:r?.advisory_type||"",stage:y.stage,resource_country:r?.resource_country||"",entered_query:o||""};if(x("ps_board_advisories_ui_refresh").anyEnabled){let o=t?4173:4174;return(0,v.jsx)(s.Fragment,{children:n?.map(t=>(0,v.jsx)(h.Z,{boardId:e,boardName:i,boardSectionId:l,notice:t,objectType:l?164:5,sensitivity:r,viewParameter:l?o:f,viewType:l?164:5},t.id))})}return(0,v.jsx)(s.Fragment,{children:n?.map(e=>2===e.style?(0,v.jsx)(E,{auxData:b,noticeKey:{type:"Legacy",data:e}},e.id):(0,v.jsx)(T,{advisory:r?.advisory,inModal:g,noticeKey:{type:"Legacy",data:e}},e.id))})}},166613:function(e,t,i){i.d(t,{IR:()=>n,St:()=>l,Uv:()=>r,Uz:()=>o});let l={CONDITIONAL:0,EMOTIONAL_DISDRESS_OR_SUICIDE:4},n={ABUSIVE:0,SENSITIVE:1,BRAND_UNSAFE:2};function o(e){return!!e&&e.severity===n.ABUSIVE}let r="THIRD_PARTY_TL"},728270:function(e,t,i){i.d(t,{CU:()=>u,ZP:()=>c,hi:()=>d});var l,n=i(422578),o=i(477738),r=i(148),a=i(657476);let s=(void 0!==l||(l=i(464788)).hash&&"547e5abdb645851996d6a1b1a4027c56"!==l.hash&&console.error("The definition of 'hasSensitivityNotices_sensitivity' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function d(e){let{notices:t,advisory:i,severity:l}=(0,n.useFragment)(s,e)||{};return{hasNotices:!!(t?.[0]&&null!==t[0].title),advisory:i,severity:l}}function c(e){if(null==e)return{hasNotices:!1};let{advisory:t,severity:i}=e,l=!!e.notices&&e.notices.length>0;return e.notices&&e.notices.length>0&&e.notices[0]?.title===null&&(l=!1),{hasNotices:l,advisory:t,severity:i}}function u(e){let{scope:t}=(0,r.n)(),{data:i,isLoaded:l}=(0,a.Z)(),n=d(e);if(t===o.lw.USERS)return n;if(!l||!i)return{hasNotices:!1};let{sensitivity:s}=i;return c(s)}},271875:function(e,t,i){i.d(t,{Z:()=>o,k:()=>l});let{Provider:l,get:n}=(0,i(213491).Z)("Conversations"),o=n},488661:function(e,t,i){i.d(t,{HW:()=>a,MS:()=>u,i3:()=>_});var l=i(667294),n=i(213491),o=i(510755),r=i(785893);let a=o.fe+1,s={educationId:null,paddingRight:0,zIndex:a};function d(e,t){switch(t.type){case"FOOTER_SET_EDUCATION_ID":let{educationId:i}=t.payload;return{...e,educationId:i};case"FOOTER_SET_PADDING_RIGHT":let{paddingRight:l}=t.payload;return{...e,paddingRight:l};case"FOOTER_SET_Z_INDEX":let{zIndex:n}=t.payload;return{...e,zIndex:n};default:return e}}let{Provider:c,get:u}=(0,n.Z)("footerContext");function _({children:e}){let[t,i]=(0,l.useReducer)(d,s),n=(0,l.useCallback)(e=>i({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}}),[]),o=(0,l.useCallback)(e=>i({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}}),[]),a=(0,l.useCallback)(e=>i({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}}),[]),u=(0,l.useMemo)(()=>({...t,setEducationId:o,setPaddingRight:n,setZIndex:a}),[t,o,n,a]);return(0,r.jsx)(c,{value:u,children:e})}},148:function(e,t,i){i.d(t,{n:()=>_,v:()=>p});var l=i(667294),n=i(312048),o=i(213491),r=i(477738),a=i(739405),s=i(582610),d=i(305375),c=i(785893);let{Provider:u,get:_}=(0,o.Z)("SearchParams"),p=({children:e,value:t})=>{let i=function(){let e=(0,a.HG)(),{search:t,pathname:i}=(0,n.TH)(),{scope:l}=(0,d.Z)(),o=!l&&i.includes("/_tools/shop");return(0,s.Z)({isDesktop:e,scope:o?r.lw.SHOP_TOOL:l,search:t})}(),o=(0,l.useMemo)(()=>({...i,...t}),[i,t]);return(0,c.jsx)(u,{value:o,children:e})}},793160:function(e,t,i){i.d(t,{Z:()=>l});let l=(0,i(667294).createContext)({inboxButton:null,setInboxButton:()=>{},profileInboxButton:null,groupBoardMessageButton:null,setProfileInboxButton:()=>{},isUnblockToast:!1,setIsUnblockToast:()=>{},setGroupBoardMessageButton:()=>{}})},32602:function(e,t,i){i.d(t,{Z:()=>o});var l=i(667294),n=i(793160);function o(){let e=(0,l.use)(n.Z);if(void 0===e)throw Error("useInboxButtonContext must be used within a InboxButtonContext Provider.");return e}},582610:function(e,t,i){i.d(t,{Z:()=>o});var l=i(477738),n=i(575820);function o({isDesktop:e,scope:t,search:i}){let{auto_correction_disabled:o="",b_id:r,brands:a,category:s,colors:d,commerce_only:c="",cover_pin_sig:u,deb_d:_,domains:p,filters:h,guided_search_query:f,inline_suggestion:m,interest_id:g,journey_depth:x,on_sale:y,price_max:b,price_min:v,q:w,query_pin_sigs:j,request_params:B,rs:S,selected_one_bar_modules:A,source_id:P,source_module_id:C,tab:Z,top_pin_ids:I,user:T}=(0,n.mB)(i),k="true"===c.toLowerCase()&&"shop_tool"!==t?l.lw.PINS_BUYABLE:t;return{autoCorrectionDisabled:"true"===o.toLowerCase(),brands:a,bubbleId:r,category:s,colors:d,commerceOnly:"true"===c.toLowerCase(),coverPinSig:u,currentlyAppliedFiltersParamTerm:h,debD:_,domains:p,guidedSearchQuery:f,inlineSuggestion:m,interestId:g,journeyDepth:x?parseInt(x,10):void 0,onSale:y,personalizationPinSig:j,placementId:(0,l.Hd)(k,e),priceMax:b,priceMin:v,query:w,requestParams:B,rs:S,scope:k,selectedOneBarModules:A,sourceId:P,sourceModuleId:C,tab:Z||"",topPinIds:I,user:T,viewParameter:(0,l._R)(k),viewType:k===l.lw.SHOP_TOOL?1:2}}},657476:function(e,t,i){i.d(t,{X:()=>p,Z:()=>_});var l=i(312048),n=i(190665),o=i(501010),r=i(774838),a=i(661376),s=i(42676),d=i(477738),c=i(739405),u=i(148);function _(e){let{resource:t}=p(e);return t}function p(e){let{skipResourceCall:t}=e||{},{checkExperiment:i}=(0,o.Z)(),{isAuthenticated:_}=(0,r.B)(),{pathname:p,search:h}=(0,l.TH)(),f=(0,c.HG)(),m=!_||!f,g=(0,u.n)(),x=(0,n.Z)(),y=(0,s.vW)({searchParams:g,sourceUrl:p+h,isDesktop:f,isAuthenticated:_,appliedUnifiedFilters:x}),b=m;m&&(b=!!_&&!i("unify_search_resource_auth_mweb").anyEnabled);let v=t||g.scope===d.lw.USERS&&!m||b;return{resource:(0,a.Z)(v?null:y),options:y.options}}},629616:function(e,t,i){i.d(t,{V:()=>d,Z:()=>s});var l=i(47755),n=i(329197),o=i(160587),r=i(779686),a=i(438274);function s(e,t,i){return s=>(0,l.Z)({url:"/v3/boards/{source_board}/merge/{target_board}/",urlParams:{source_board:e,target_board:t},method:"POST",data:i?{orbac_subject_id:i}:{}}).then(()=>Promise.all([s((0,o.eo)({boardId:e})),s((0,n.Z)(t,"pin_count")),s((0,r.N8)(a.Z.BOARD_SECTIONS,t))]))}let d=async(e,t,i,s)=>{await (0,l.Z)({url:"/v3/boards/{source_board}/merge/{target_board}/",urlParams:{source_board:t,target_board:i},method:"POST",data:s?{orbac_subject_id:s}:{}}),e((0,o.eo)({boardId:t})),(0,n.Z)(i,"pin_count"),e((0,r.N8)(a.Z.BOARD_SECTIONS,i))}},755559:function(e,t,i){i.d(t,{I:()=>a,Z:()=>r});var l=i(661376),n=i(718846);let o=({boardId:e,ownerId:t,ownerUsername:i,ownerName:o,ownerImgSrc:r})=>{let a=(0,n.Z)(),{data:s,isLoaded:d}=(0,l.Z)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0,...a?{orbac_subject_id:a}:{}}}),c=[{id:t,name:o,src:r,href:`/${i}/`,isDim:!1}];return d&&s&&s.length>0&&s.forEach(e=>{c.push({id:e.invited_user?e.invited_user.id:"",name:e&&e.invited_user?e.invited_user.full_name:"",color:e&&e.invited_user?e.invited_user.avatar_color_index:void 0,src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?`/${e.invited_user.username}/`:"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})}),c},r=o;function a({children:e,...t}){return e(o(t))}},449270:function(e,t,i){i.d(t,{Z:()=>tl});var l=i(667294),n=i(581722),o=i(312048),r=i(740097),a=i(363061),s=i(611649),d=i(272598),c=i(257680),u=i(201363),_=i(230201),p=i(943152),h=i(753806),f=i(935059),m=i(400962),g=i(112658),x=i(577356),y=i(893957),b=i(200619),v=i(601871),w=i(603284),j=i(74972),B=i(686659),S=i(59111),A=i(785893);function P({layoutType:e,thumbnails:t}){switch((0,l.useEffect)(()=>{(0,B.Z)("BoardActionUpsellImages","/app/www/BoardActionUpsells/BoardActionUpsellImages.tsx")},[]),e){case 4:let i=t&&t[0]&&t[0]["236x"];return(0,A.jsx)(r.zd,{height:80,rounding:4,width:80,children:i?(0,A.jsx)(r.Ee,{alt:"",color:"gray",fit:"cover",naturalHeight:i.height,naturalWidth:i.width,src:i.url}):(0,A.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,A.jsx)(r.xu,{color:"secondary",height:80,width:39.4}),(0,A.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:1.2}},children:[(0,A.jsx)(r.xu,{color:"secondary",height:39.4,width:39.4}),(0,A.jsx)(r.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{marginTop:"1.2px"}},height:40.6,width:39.4})]})]})});case 2:return(0,A.jsx)(r.zd,{height:80,rounding:4,width:80,children:(0,A.jsx)(r.kC,{alignItems:"stretch",justifyContent:"start",children:[0,1].map(e=>{let i=t&&t?.length>0?t[e]:null;return(0,A.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingRight:1.2}},children:(0,A.jsx)(r.xu,{height:80,width:39.4,children:i?.["236x"]?.url&&(0,A.jsx)(r.Ee,{alt:"",color:"gray",fit:"cover",naturalHeight:80,naturalWidth:39.4,src:i["236x"].url})})},e)})})});default:return null}}let C=[502043,502085],Z=`
.BoardActionUpsellCard {
  animation-duration: 0.5s;
  animation-fill-mode: forwards;
  animation-name: slideUp;
  animation-timing-function: ease-out;
  background-color: #fff;
  border-radius: 16px;
  box-shadow: 0 2px 14px 0 rgba(0, 0, 0, 0.25);
  display: flex;
  justify-content: between;
  left: 50%;
  margin-left: -210px; // half of width
  padding: 24px;
  position: fixed;
  transition: bottom 1s;
  width: 420px;
}

@keyframes slideUp {
  from {
    bottom: -200px;
  }

  to {
    bottom: 14px;
  }
}
`;function I({boardId:e,displayData:t,complete:i,dismiss:n,handleShowArchiveConfirmation:o}){let{logContextEvent:a}=(0,_.u)(),[s,d]=(0,l.useState)(void 0);(0,l.useEffect)(()=>()=>clearTimeout(s),[s]);let c={2:o};return(0,l.useEffect)(()=>{s||d(setTimeout(()=>{n()},2e4)),a({event_type:13,view_type:5,view_parameter:3069,element:11758,object_id_str:JSON.stringify(t.experience.experience_id),aux_data:{board_id:e}})},[]),(0,A.jsxs)(r.mh,{children:[(0,A.jsx)(S.Z,{unsafeCSS:Z}),(0,A.jsxs)("div",{className:"BoardActionUpsellCard",children:[(0,A.jsx)(r.xu,{flex:"none",children:(0,A.jsx)(P,{layoutType:t.layout_type,thumbnails:t.thumbnail_image_urls})}),(0,A.jsxs)(r.xu,{marginStart:4,children:[(0,A.jsx)(r.xv,{inline:!0,children:(0,A.jsx)(r.qd,{size:"400",children:t.text})}),(0,A.jsxs)(r.xu,{display:"flex",justifyContent:"start",marginTop:4,width:"100%",children:[(0,A.jsx)(r.zx,{color:"gray",onClick:()=>{a({event_type:123,view_type:5,view_parameter:3069,element:11758,object_id_str:JSON.stringify(t.experience.experience_id),aux_data:{board_id:e}}),n()},text:t.dismiss_button.text}),(0,A.jsx)(r.xu,{paddingX:2,children:(0,A.jsx)(r.zx,{color:"red",onClick:()=>{c[t.complete_button.action_type](),a({event_type:101,view_type:5,view_parameter:3069,element:11758,object_id_str:JSON.stringify(t.experience.experience_id),aux_data:{board_id:e}}),i()},text:t.complete_button.text})})]})]})]})]})}function T({boardId:e,handleShowArchiveConfirmation:t}){return(0,l.useEffect)(()=>{(0,B.Z)("BoardActionUpsellCard","/app/www/BoardActionUpsells/BoardActionUpsellCard.tsx")},[]),(0,A.jsx)(h.a3,{eligibleIds:C,placementId:18,children:({experience:i,complete:l,dismiss:n})=>(0,A.jsx)(I,{boardId:e,complete:l,dismiss:n,displayData:i.display_data,handleShowArchiveConfirmation:t})})}var k=i(680650),E=i(160587),F=i(250408),z=i(122222),O=i(592444),D=i(311752),L=i(465784),M=i(24246),N=i(216975);function R(){(0,l.useEffect)(()=>{(0,B.Z)("GroupBoardFavoriteEducationModal","/app/www/FavoriteButton/GroupBoardFavoriteEducationModal.tsx")},[]);let e=(0,M.Z)(),t=(0,A.jsx)(r.xu,{display:"flex",justifyContent:"center",paddingX:8,children:(0,A.jsx)(r.xv,{children:(0,N.nk)(e.bt("הוסיפו {{ star }} כדי להראות למשתפי הפעולה את סיכות ה-Pin המועדפות עליכם", "Add a {{ star }} to show collaborators your favorite Pins", "groupBoardFavoriteEducationModal.text", undefined, true),{star:(0,A.jsx)(r.xu,{display:"inlineBlock",children:(0,A.jsx)(r.JO,{accessibilityLabel:e.bt("סמל מועדפים", "Favorite icon", "groupBoardFavoriteEducationModal.bodyFavoriteIcon", undefined, true),color:"default",icon:"star",size:12})})})})});return(0,A.jsx)(h.a3,{eligibleIds:[503077],placementId:18,children:({complete:i,dismiss:l})=>(0,A.jsx)(L.ZP,{accessibilityModalLabel:e.bt("תגובת לוח קבוצתי", "Group board reaction", "groupBoardFavoriteEducationModal.modalAccessibilityLabel", undefined, true),footer:(0,A.jsx)(r.kC,{justifyContent:"end",children:(0,A.jsx)(r.zx,{onClick:()=>i(),text:e.bt("הבנתי", "Got it", "groupBoardFavoriteEducationModal.doneButton", undefined, true)})}),heading:(0,A.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingX:4,paddingY:6,position:"relative",children:[(0,A.jsx)(r.xu,{maxWidth:400,children:(0,A.jsx)(r.qd,{align:"center",size:"600",children:(0,N.nk)(e.bt("{{ heart }} הוא כעת {{ star }}", "{{ heart }} is now {{ star }}", "groupBoardFavoriteEducationModal.heading", undefined, true),{heart:(0,A.jsx)(r.xu,{display:"inlineBlock",paddingX:1,children:(0,A.jsx)(r.JO,{accessibilityLabel:e.bt("סמל לב", "Heart icon", "groupBoardFavoriteEducationModal.headingHeartIcon", undefined, true),color:"default",icon:"heart",size:16})}),star:(0,A.jsx)(r.xu,{display:"inlineBlock",paddingX:1,children:(0,A.jsx)(r.JO,{accessibilityLabel:e.bt("סמל מועדפים", "Favorite icon", "groupBoardFavoriteEducationModal.headingFavoriteIcon", undefined, true),color:"default",icon:"star",size:16})})})})}),(0,A.jsx)(r.xu,{padding:6,position:"absolute",right:!0,top:!0,children:(0,A.jsx)(r.hU,{accessibilityLabel:e.bt("סגירה", "Close", "groupBoardFavoriteEducationModal.closeModalButton", undefined, true),icon:"cancel",iconColor:"darkGray",onClick:l,size:"md"})})]}),onDismiss:l,size:"sm",children:t})})}var H=i(329577),U=i(779686),K=i(438274),G=i(144337),q=i(309947),$=i(101267),W=i(249347),J=i(189634);function X({board:e,currentFilter:t,eligibleFilters:i,isOwnBoard:n,surface:o,setCurrentFilter:a,setTitle:s}){(0,l.useEffect)(()=>{(0,B.Z)("ActionBarFilterButton","/app/www/save/board/BoardDefaultTabContent/ActionBarFilterButton.tsx")},[]);let d=(0,H.WG)(),{logContextEvent:c}=(0,_.u)(),u=(0,M.Z)(),p=(0,l.useRef)(null),h=d?.boardPinDensity,[f,m]=(0,l.useState)(!1),g=()=>{m(!1)},x=e=>{(0,W.Z)({boardDensity:e,component:"board"===o?13183:13187,viewType:"board"===o?5:164},c),(0,J.Z)({density:e,surface:"board"}),d?.setBoardPinDensity(e)},y=[],b={[$.c]:12111,[$.A]:12227};if(i){let l={items:i.map(i=>({isSelected:i.pin_type===t,onClick:()=>{c({event_type:101,component:13475,element:b[i.pin_type??-1],object_id_str:e.id,view_type:5,view_parameter:n?3069:3070}),a(i.pin_type??-1),s(i.pin_type===$.c?null:i.text),g()},text:i.text??""})),label:u.bt("סינון לפי סוג", "Filter by type", "board.experimentalBoardActionBar.filterOptions", undefined, true)};y.push(l)}return y.push({items:[{isSelected:"regular"===h,onClick:()=>{g(),x("regular")},text:u.bt("ברירת מחדל", "Default", "BoardHeader.ActionBar.DensityOption-Default", undefined, true)},{isSelected:"dense"===h,onClick:()=>{g(),x("dense")},text:u.bt("קומפקטי", "Compact", "BoardHeader.ActionBar.DensityOption-Compact", undefined, true)}],label:u.bt("הצג אפשרויות", "View options", "BoardHeader.ActionBar.ViewOptions", undefined, true)}),(0,A.jsxs)(l.Fragment,{children:[(0,A.jsx)(r.xu,{ref:p,children:(0,A.jsx)(r.hU,{accessibilityControls:"filter_board",accessibilityExpanded:f,accessibilityLabel:u.bt("מסנן הלוחות", "Board Filter", "board.experimentalBoardActionBar.boardFilter", undefined, true),accessibilityPopupRole:"menu",icon:"filter",iconColor:"darkGray",onClick:()=>{c({event_type:101,element:12020,object_id_str:e.id,view_type:5,view_parameter:n?3069:3070}),m(!f)},selected:f,size:"lg"})}),f&&(0,A.jsx)(r.Lt,{anchor:p.current,disableMobileUI:!0,id:"filter_board",onDismiss:g,children:y.map(({items:e,label:t})=>(0,A.jsx)(r.Lt.Section,{label:t,children:e.map(({isSelected:e,onClick:t,text:i})=>(0,A.jsx)(r.Lt.Item,{onSelect:t,option:{label:i,value:i},selected:e?{label:i,value:i}:null},i))},t))})]})}let V=(0,h.RL)(1000332)(function({board:e,currentFilter:t,isHidePinCount:i,isOwnBoard:n,paddingX:o=8,section:a,setCurrentFilter:s,showExperienceTooltip:d}){let c=(0,M.Z)(),{eligible_pin_type_filters:u}=a??e,[_,p]=(0,l.useState)(null),f=(0,l.useRef)(null),m=a?a.pin_count:e.pin_count,{experimentalGutter:g}=(0,q.Z)();return(0,A.jsxs)(l.Fragment,{children:[(0,A.jsxs)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:g?{paddingLeft:g,paddingRight:g}:{}},direction:"row",display:"flex",justifyContent:i?"end":"between",paddingX:o,children:[!i&&(0,A.jsx)(r.xu,{flex:"grow",children:(0,A.jsx)(r.X6,{accessibilityLevel:2,size:"400",children:t>0&&_?_:(0,N.nk)(c.nbt(["Pin {{ pinCount }}", "{{ pinCount }} סיכות Pin", "{{ pinCount }} סיכות Pin", "{{ pinCount }} סיכות Pin"], m ?? 0, "board.experimentalBoardActionBar.pinCount", true),{pinCount:m})})}),(0,A.jsx)(r.xu,{ref:f,children:(0,A.jsx)(X,{board:e,currentFilter:t,eligibleFilters:u?.filter(e=>5!==e.pin_type),isOwnBoard:n,setCurrentFilter:s,setTitle:p,surface:a?"section":"board"})})]}),d&&f&&(0,A.jsx)(r.mh,{children:(0,A.jsx)(h.a3,{eligibleIds:[502974],placementId:1000332,children:({dismiss:e,experience:{display_data:t}})=>(f&&f.current?.scrollIntoView(!1),(0,A.jsx)(r.pl,{anchor:f.current,idealDirection:"down",message:t.text,onDismiss:e}))})})]})});var Y=i(531937),Q=i(700594),ee=i(844677),et=i(504860),ei=i(497455),el=i(755533),en=i(93894);let eo=()=>{};function er({board:e,currentView:t,handleContentViewChange:i,handleSetCurrentModal:o,handleShowEditSectionModal:a,handleShowMergeSectionsConfirmationModal:s,isBoardPreviewMode:d,isHidePinCount:c,isOwnerOrCollaborator:u,isOwnBoard:_,isPinGridSorted:p,refreshBoardData:h=eo,refreshSectionData:m=eo,section:g}){(0,l.useEffect)(()=>{(0,B.Z)("BoardAndSectionPageContent","/app/www/save/board/BoardPageContainer/BoardAndSectionPageContent.tsx")},[]);let x=(0,f.Z)(),y=(0,Q.Z)({board:e,viewer:x}),b=(e.access||[]).includes("write"),v=(0,H.WG)()?.boardPinDensity,w=(0,el.Z)(g?(0,ei.Z)(e,g):""),[j,S]=(0,l.useState)($.c),[P,C]=(0,l.useState)(!1),Z=(0,n.I0)();(0,l.useEffect)(()=>()=>{j!==$.c&&(g?Z((0,U.N8)(K.Z.BOARD_SECTION_PINS,g.id??"")):Z((0,U.N8)(K.Z.BOARDFEED,e.id)))},[e,j,Z,g]);let I=(0,l.useCallback)(()=>{j>0&&(S($.c),g?m():h())},[j,m,h,g]),T=(0,l.useMemo)(()=>g?{currentFilter:j,eligibleFilters:g.eligible_pin_type_filters,refreshData:m,sectionId:g.id}:{currentFilter:j,eligibleFilters:e.eligible_pin_type_filters,refreshData:h,setShowExperienceTooltip:C},[g,e.eligible_pin_type_filters,j,h,m]);return g?(0,A.jsx)(Y.k,{value:T,children:(0,A.jsxs)(l.Fragment,{children:[u&&!d&&(0,A.jsx)(V,{board:e,currentFilter:j,isOwnBoard:_,section:g,setCurrentFilter:S,showExperienceTooltip:!1}),(0,A.jsx)(et.Z,{board:e,boardSectionId:g.id,currentFilter:j,denseViewSelected:b&&"dense"===v,inSectionOrganizationMode:!1,inSelectAll:!1,isOwnBoard:_,isOwnerOrCollaborator:u,refreshFilteredFeed:I,renderFooterStory:t=>!e.archived_by_me_at&&u&&(0,A.jsx)(r.xu,{marginBottom:12,children:(0,A.jsx)(ee.Z,{children:(0,A.jsx)(en.Z,{collection:g,storyId:t,url:w})})}),viewer:x,viewParameter:y})]})}):(0,A.jsx)(Y.k,{value:T,children:(0,A.jsxs)(l.Fragment,{children:[u&&!d&&(0,A.jsx)(D.Z,{isGetServerRenderGridHeaderStyles:!0,children:(0,A.jsx)(V,{board:e,currentFilter:j,isHidePinCount:c,isOwnBoard:_,paddingX:0,setCurrentFilter:S,showExperienceTooltip:P})}),(0,A.jsx)(G.Z,{actions:{onBoardOrganizeClick:eo},board:e,currentFilter:j,currentView:t,enableReordering:u,isBoardPreviewMode:d,isOwnBoard:_,isPinGridSorted:p,onContentViewChange:i,onShowEditSectionModal:a,onShowMergeSectionsConfirmationModal:(e,t)=>{o(z.s.sectionMergeConfirm),s(e,t)},refreshFilteredFeed:I,viewParameter:y}),u&&(0,A.jsx)(R,{})]})})}var ea=i(501010),es=i(718846),ed=i(166613),ec=i(728270),eu=i(181735),e_=i(589641),ep=i(681698),eh=i(564023),ef=i(711960),em=i(877263),eg=i(661376),ex=i(176615);function ey({onDismiss:e,boardId:t}){(0,l.useEffect)(()=>{(0,B.Z)("ReportBoard","/app/www/profile/UserProfileHeader/ModalContents/FlagProfile/ReportBoard.tsx")},[]);let{data:i}=(0,eg.Z)({name:"BoardResource",options:{board_id:t,field_set_key:"detailed"},noCache:!0}),{showErrorToast:n,showSuccessToast:o}=(0,em.Z)(),[r,a]=(0,l.useState)(null),[s,d]=(0,l.useState)(null),{checkExperiment:c}=(0,ea.Z)();(0,y.Z)(()=>{(async()=>{try{let e=await (0,eh.Z)(t);e?a(e):n()}catch{n()}})()});let u=async({reasonKey:i})=>{try{await (0,ef.Z)(t,{reason:i}),e(),o()}catch{e(),n()}},_=async e=>{if(!e)return null;try{return(await (0,ep.Z)({url:"/v3/sensitivity/report/",method:"GET",data:{sensitivity_type:e,object_type:"board"}})).resource_response.data}catch{return null}},p=async({reasonKey:i,selectedReason:l})=>{try{let[n]=await Promise.all([_(l?.sensitivity_type),(0,ef.Z)(t,{reason:i})]);n?d(n):(e(),o())}catch{e(),n()}};return s?(0,A.jsx)(ex.Z,{dismiss:e,objectType:5,sensitivity:s,viewParameter:3846}):(0,A.jsx)(e_.ZP,{handleSubmitReport:c("ps_dweb_report_advisories_boards_and_messages").anyEnabled?p:u,objectToReport:{type:"board",id:t,userToBlock:i?.owner&&i.owner.id?{id:i.owner.id,fullName:i.owner.full_name,blockedByMe:i.owner.blocked_by_me,username:i.owner.username||""}:null},onDismiss:e,reportingReasons:r})}var eb=i(360990),ev=i(836447);function ew({boardId:e,ownerId:t,ownerUsername:i,ownerName:n,ownerImgSrc:o,ownerIsAdsOnlyProfile:r,ownerAdsOnlyProfileSite:a,children:s}){let{data:d,isLoaded:c}=(0,eg.Z)({name:"ApiResource",options:{url:(0,ev.Z)({boardId:e})?.concat("collaborators/"),data:{fields:["user.domain_verified","user.explicitly_followed_by_me","user.full_name","user.id","user.image_medium_url","user.image_small_url","user.is_default_image","user.location","user.twitter_url","user.type","user.username","user.verified_identity"],page_size:10}},noCache:!0});return s((0,l.useMemo)(()=>{let e=[{name:n,src:o,href:`/${i}/`,id:t,is_ads_only_profile:r,ads_only_profile_site:a}];return c&&d&&d.length>0&&d.forEach(t=>{e.push((0,eb.Z)(t))}),e},[d,c,a,t,o,r,n,i]))}var ej=i(755559),eB=i(104999),eS=i(465076),eA=i(924591);function eP(e){(0,l.useEffect)(()=>{(0,B.Z)("FollowingToast","/app/www/board/Header/ActionBar/FollowingToast.tsx")},[]);let{boardImage:t,boardName:i,boardUrl:n,onHide:o}=e,a=(0,M.Z)(),s=(0,A.jsx)(r.xv,{children:(0,N.nk)(a.bt("כעת במעקב אחר {{ boardName }}", "Now following {{ boardName }}", "BoardFollowButton.FollowingToast.nowFollowing", undefined, true),{boardName:(0,A.jsx)(r.xv,{weight:"bold",children:i},"boardName")})});return(0,A.jsx)(eA.Z,{href:n,imageUrl:t,onHide:o,text:s})}var eC=i(701572),eZ=i(395878);function eI(e){(0,l.useEffect)(()=>{(0,B.Z)("EllipsisMenuButton","/app/www/save/board/BoardPageContainer/EllipsisMenuButton.tsx")},[]);let t=(0,M.Z)(),{bgColor:i,board:o,canCreatePincode:a,canEdit:s,handleCreatePincode:d,handleOpenSendBoardFlyout:c,onEditClick:u,onReportClick:_,showFollow:h,showShare:f,size:m}=e,{id:g,name:y,url:b,image_cover_url:v}=o,[w,j]=(0,l.useState)(o.followed_by_me),{showOneToast:S}=(0,x.dI)(),P=(0,n.I0)(),C=(0,p.Z)(),Z=(0,eB.Z)(),I=({event:e})=>{if(C){e.stopPropagation(),C();return}w?(P((0,eC.f)(g,Z)),j(!1)):(P((0,eC.Z)(g,Z)),j(!0),S(({hideToast:e})=>(0,A.jsx)(eP,{boardImage:v??"",boardName:y,boardUrl:b,onHide:e})))},T={edit:t.bt("ערכו", "Edit", "BoardPage.ActionBar.PartnerEdit", undefined, true),create_pincode:t.bt("צרו קוד Pinterest", "Create Pincode", "BoardPage.ActionBar.PartnerPincode", undefined, true),share:t.bt("שיתוף", "Share", "BoardPage.ActionBar.EllipsisButton", undefined, true),unfollow:t.bt("בטלו מעקב", "Unfollow", "BoardPage.ActionBar.EllipsisButton", undefined, true),follow:t.bt("עקבו", "Follow", "BoardPage.ActionBar.EllipsisButton", undefined, true),report:t.bt("דיווח", "Report", "profileHeader.actionBar.overflowFlyout.report", undefined, true)};return(0,A.jsx)(eS.Z,{bgColor:i,icon:"ellipsis",id:"more-board-options",label:t.bt("פעולות אחרות", "Other actions", "profileHeader.actionBar.overflow", undefined, true),size:m,children:()=>(0,A.jsxs)(r.Lt.Section,{label:t.bt("אפשרויות לוח", "Board options", "profileHeader.actionBar.overflow.header", undefined, true),children:[s&&u&&(0,A.jsx)(r.Lt.Item,{onSelect:()=>{u()},option:{label:T.edit,value:T.edit}}),s&&a&&d&&(0,A.jsx)(r.Lt.Item,{onSelect:()=>{d()},option:{label:T.create_pincode,value:T.create_pincode}}),f&&c&&(0,A.jsx)(eZ.Z,{boardKey:{type:"Legacy",data:o},onCreatePincode:d,onOpen:c,children:({onClick:e})=>(0,A.jsx)(r.Lt.Item,{onSelect:e,option:{label:T.share,value:T.share}})}),h&&(0,A.jsx)(l.Fragment,{children:w?(0,A.jsx)(r.Lt.Item,{onSelect:I,option:{label:T.unfollow,value:T.unfollow}}):(0,A.jsx)(r.Lt.Item,{onSelect:I,option:{label:T.follow,value:T.follow}})}),(0,A.jsx)(r.Lt.Item,{onSelect:_,option:{label:T.report,value:T.report}})]})})}var eT=i(635545),ek=i(249459),eE=i(575820),eF=i(27399),ez=i(995514),eO=i(660322),eD=i(739405),eL=i(319226),eM=i(180483);function eN(e){(0,l.useEffect)(()=>{(0,B.Z)("Facepile","/app/www/save/board/BoardCollaboratorFacepile/Facepile.tsx")},[]);let{faces:t,maxFaces:i,numFaces:n,onOverflowClick:o,shouldNavigate:a=!0}=e,s=[...t].reverse(),d=t.length>i?s.slice(0,i+1):s,c=n-i,u=(0,f.Z)(),_=u.isAuth?u?.avatar_color_index:void 0;return(0,A.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{flexDirection:"row-reverse"}},display:"flex",position:"relative",children:d.map((e,t)=>{let{name:i,src:l,href:n,isDim:s}=e;if(0===t&&c>0)return(0,A.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{border:"2px solid white"}},height:44,marginStart:-2,overflow:"hidden",rounding:"circle",width:44,children:l&&(0,A.jsx)(r.Ee,{alt:i,fit:"contain",naturalHeight:44,naturalWidth:44,src:l,children:(0,A.jsx)(r.iP,{fullHeight:!0,fullWidth:!0,onTap:o,rounding:"circle",children:(0,A.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}},display:"flex",height:"100%",justifyContent:"center",rounding:"circle",width:"100%",children:(0,A.jsx)(r.xv,{color:"inverse",size:"200",weight:"bold",children:c>99?"99+":c})})})})},t);{let e=(0,A.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{opacity:s?.5:1}},marginStart:-2,children:(0,A.jsx)(eL.qE,{color:_,name:i,outline:!0,size:"sm",src:l})},t);return a?(0,A.jsx)(r.Tg,{href:n,rounding:"circle",children:e},t):e}})})}function eR({invitedByUser:e,isAccepted:t,onDecline:i,onAccept:n,createdAt:o}){(0,l.useEffect)(()=>{(0,B.Z)("BoardCollabInviteBanner","/app/www/BoardCollab/BoardCollabInviteBanner.tsx")},[]);let a=(0,M.Z)(),s=(0,f.Z)(),d=s.isAuth?s?.avatar_color_index:void 0,{first_name:c,full_name:u,username:_,image_medium_url:p}=e,h=c||u||a.bt("אחרים", "others", "Default text when board colalborator name is not known.", undefined, true);return(0,A.jsx)(r.W2,{children:t?(0,A.jsxs)(r.xu,{alignItems:"center",borderStyle:"sm",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,paddingX:5,paddingY:3,rounding:2,width:"100%",children:[(0,A.jsx)(eN,{faces:[{href:s.isAuth?`/${s.username}`:"",name:s.isAuth?s.fullName:"",src:s.isAuth?s.imageMediumUrl:""},{href:`/${_}`,name:u,src:p}],maxFaces:2,numFaces:2}),(0,A.jsxs)(r.xu,{marginStart:2,children:[(0,A.jsx)(r.xv,{weight:"bold",children:a.bt("אתם בפנים!", "You're in!", "Text showing that a user has accepted the board invite and is now a part of the board", undefined, true)}),(0,A.jsx)(r.xv,{children:(0,eM.Z)(a.bt("התחילו שיתוף פעולה עם {{ invitedByUserName }} בלוח זה", "Start collaborating with {{ invitedByUserName }} on this board", " - ", undefined, true),{invitedByUserName:h})})]})]}):(0,A.jsx)(r.xu,{borderStyle:"shadow",color:"default",marginEnd:-1,marginStart:-1,paddingX:6,paddingY:6,rounding:6,width:540,children:(0,A.jsxs)(r.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,A.jsx)(r.xu,{marginEnd:2,children:(0,A.jsx)(eL.qE,{color:d,name:u,size:"md",src:p})}),(0,A.jsx)(r.xu,{flex:"grow",children:(0,A.jsx)(r.xv,{color:"default",inline:!0,children:(0,N.nk)(a.bt("{{ user }} הזמין אתכם לשתף פעולה בלוח זה {{ createdAt }}", "{{ user }} invited you to collaborate on this board {{ createdAt }}", "web.boardView.inviteCard.text", undefined, true),{user:(0,A.jsx)(r.xv,{color:"default",inline:!0,weight:"bold",children:(0,A.jsx)(r.rU,{display:"inlineBlock",href:`/${_}`,underline:"hover",children:u})},_),createdAt:(0,A.jsx)(r.xv,{color:"subtle",inline:!0,children:o})})})}),(0,A.jsxs)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},display:"flex",paddingX:1,children:[(0,A.jsx)(r.xu,{display:"inlineBlock",marginEnd:2,children:(0,A.jsx)(r.zx,{color:"gray",onClick:i,size:"lg",text:a.bt("דחייה", "Decline", "decline board collaborator invite or request", undefined, true)})}),(0,A.jsx)(r.zx,{color:"red",onClick:n,size:"lg",text:a.bt("קבלו", "Accept", "Text to accept a board collaboration invite", undefined, true)})]})]})})})}var eH=i(211731);function eU({boardId:e,inviteCode:t,shouldAutoAcceptBoardInvite:i,userInviterId:o}){(0,l.useEffect)(()=>{(0,B.Z)("BoardCollabInviteBannerContainer","/app/www/BoardCollab/BoardCollabInviteBannerContainer.tsx")},[]);let a=(0,M.Z)(),s=(0,x.dI)(),d=(0,ez.Z)(),[c,u]=(0,l.useState)(!1),[_,p]=(0,l.useState)(null),h=(0,eD.HG)(),m=(0,f.Z)(),g=(0,n.I0)(),y={board_id:e,field_set_key:"boardBanner",invite_code:t,invited_user_id:m.isAuth&&m.id},b=(0,eH.RZ)(),v=(0,eH.CQ)();(0,l.useEffect)(()=>{o&&i&&(b(e).then(()=>{g((0,eH.A8)(e)),h&&s.showToast(({hideToast:e})=>(0,A.jsx)(eA.Z,{duration:5e3,onHide:e,text:a.bt("נכנסתם! שמרו סיכות Pin, תכננו בעזרת משתפי פעולה ועוד!", "You're in! Save Pins, plan with collaborators, and more!", "BoardCollabInviteBannerContainer.useEffect.acceptedInviteToast", undefined, true)}))}),eF.Z.create("UserResource",{field_set_key:"grid_item",user_id:o}).callGet().then(({resource_response:e})=>{let t=e&&e.data;t&&p(t)}))},[i,o]);let{data:w}=(0,eg.Z)({name:"BoardInviteResource",options:y}),j=!!(o&&i)||c,S=!["new","contact_request_not_approved"].includes(w?.status||""),P=t=>{(t?b(e):v(e,y.invited_user_id||"")).then(()=>{t&&(g((0,eH.A8)(e)),u(!0),s.showToast(({hideToast:e})=>(0,A.jsx)(eA.Z,{duration:5e3,onHide:e,text:a.bt("נכנסתם! שמרו סיכות Pin, תכננו בעזרת משתפי פעולה ועוד!", "You're in! Save Pins, plan with collaborators, and more!", "BoardCollabInviteBannerContainer.useEffect.acceptedInviteToast", undefined, true)}))),g((0,eO.jB)("BoardInviteResource",y))})},C=w?.invited_by_user||_,Z=j?h:S;return!C||Z?null:(0,A.jsx)(r.xu,{marginTop:3,paddingY:0,children:(0,A.jsx)(eR,{createdAt:d(w?.created_at||"",!0),invitedByUser:C,isAccepted:j,onAccept:()=>P(!0),onDecline:()=>P(!1)})})}function eK({boardId:e}){let t=(0,o.TH)(),i=t&&t.search?(0,eE.mB)(t.search):{},l=i.invite_code,n=i.accept_invite,r=i.inviter_user_id;return(0,A.jsx)(eU,{boardId:e,inviteCode:l,shouldAutoAcceptBoardInvite:n,userInviterId:r})}let eG=function(e){let{board:t}=e,{id:i,owner:n,sensitivity:o}=t,a=(0,f.Z)(),s=a.isAuth?a.id:"",d=n?.id===s,c=(0,ed.Uz)(o),{checkExperiment:u}=(0,ea.Z)(),_=u("ps_board_advisories_ui_refresh").anyEnabled||c;return(0,A.jsxs)(l.Fragment,{children:[!c&&(0,A.jsx)(eK,{boardId:i}),_&&(0,ec.ZP)(o).hasNotices&&o&&(0,A.jsx)(r.xu,{paddingY:10,children:(0,A.jsx)(eu.Z,{boardId:i,boardName:t.name,notices:o.notices,sensitivity:o,viewParameter:d?3069:3070,viewType:5})})]})};var eq=i(316037),e$=i(230110);function eW(e){(0,l.useEffect)(()=>{(0,B.Z)("BoardPageHeader","/app/www/save/board/Headers/BoardHeader/BoardPageHeader.tsx")},[]);let{board:t,collaborators:i,handleCreatePincode:n,handleShowCollabAndPermissionsModal:o,isBoardPreviewMode:a,inRelocateBoardShareButtonExp:s,overFlowActionsButton:d,showPulsar:c,setBoardPreviewMode:_,userBlocked:p}=e,{access:h,archived_by_me_at:m,collaborator_requests_enabled:g,name:x,owner:y,privacy:w,should_show_board_collaborators:j}=t,{nonDisplayedCollaboratorCount:S}=(0,e$.Z)({boardCollaboratorCount:t.collaborator_count,collaborators:i,showOnlyOwner:!j,ownerName:y?.full_name}),P=(0,f.Z)(),C=(0,b.Z)(),Z=(0,v.D3)(P,t.owner?.id||"",C),I=h&&h.includes("write")||Z,T=(0,u.Z)(t.collaborated_by_me,t.owner?.id,P)||Z,k=w===ek.Z.BoardPrivacy.SECRET,E=!I&&!p&&g&&!(P.isAuth&&P.isPrivateProfile);return(0,A.jsxs)(r.xu,{"data-test-id":"board-header-with-image-container",direction:"column",display:"flex",paddingY:8,children:[(0,A.jsx)(r.kC,{alignItems:"stretch",justifyContent:"center",children:(0,A.jsx)(r.xu,{maxWidth:800,children:(0,A.jsx)(eG,{board:t})})}),(0,A.jsx)(r.xu,{marginTop:4,paddingX:2,children:(0,A.jsx)(eq.Z,{board:t,boardName:x??"",collaborators:i,description:t.description??"",handleShowCollabAndPermissionsModal:o,inRelocateBoardShareButtonExp:s,isArchived:!!m,isBoardPreviewMode:a,isOwnerOrCollaborator:T,isSecret:k,nonDisplayedCollaboratorCount:S,onCreatePincode:n,overFlowActionsButton:d,pinCount:t.pin_count??0,sectionCount:t.section_count??0,setBoardPreviewMode:_,showJoinButton:!!E,showPulsar:c})})]})}var eJ=i(285544),eX=i(902123);let eV=e=>{(0,l.useEffect)(()=>{(0,B.Z)("SectionHeader","/app/www/save/board/Headers/SectionHeader/SectionHeader.tsx")},[]);let{boardName:t,boardUrl:i,children:n,description:o,overFlowActionsButton:a,sectionName:s,ref:d}=e;return(0,A.jsxs)(r.xu,{ref:d,display:"flex",justifyContent:"center",marginBottom:8,paddingX:8,width:"100%",children:[(0,A.jsxs)(r.kC,{alignItems:"stretch",direction:"column",gap:2,justifyContent:"start",maxWidth:488,children:[(0,A.jsx)(eJ.Z,{children:(0,A.jsx)(r.xu,{marginTop:4,children:(0,A.jsx)(eX.q,{children:({active:e,focused:l,hovered:n,onBlur:o,onFocus:a,onMouseEnter:s,onMouseLeave:d})=>(0,A.jsx)(r.Tg,{href:i??"",onBlur:o,onFocus:a,onMouseEnter:s,onMouseLeave:d,children:(0,A.jsx)(r.X6,{align:"center",color:e||l||n?"default":"subtle",children:t})})})})}),(0,A.jsx)(eJ.Z,{children:(0,A.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:-2,maxWidth:"100%",children:[(0,A.jsx)(r.X6,{align:"center",lineClamp:1,children:s}),!!a&&(0,A.jsx)(r.xu,{paddingX:1,children:a})]})}),!!o&&(0,A.jsx)(eJ.Z,{children:(0,A.jsx)(r.xv,{align:"center",children:o})})]}),n&&(0,A.jsx)(r.xu,{marginTop:8,children:n})]})};function eY({board:e,handleBoardEditClick:t,handleFollowersClick:i,handleSectionEditClick:n,handleShowBoardArchiveConfirmation:o,handleShowBoardUnarchiveConfirmation:a,handleShowCollabAndPermissionsModal:s,handleShowCreatePincodeModal:d,handleShowMergeModal:_,isBoardPreviewMode:p,section:h,showPulsar:m,setBoardPreviewMode:g}){(0,l.useEffect)(()=>{(0,B.Z)("BoardAndSectionPageHeader","/app/www/save/board/BoardPageContainer/BoardAndSectionPageHeader.tsx")},[]);let x=(0,f.Z)(),y=(0,b.Z)(),w=(0,es.Z)(),j=w&&(0,c.Z)(e.privacy)?`?orbac_subject_id=${w}`:"",{name:S,sensitivity:P,access:C,url:Z=""}=e,[I,T]=(0,l.useState)(!1),k=(0,v.D3)(x,e.owner?.id||"",y),E=(0,ed.Uz)(P),{checkExperiment:F}=(0,ea.Z)(),z=F("ps_board_advisories_ui_refresh").anyEnabled||E,{anyEnabled:O}=F("ce_dweb_relocate_board_share_button"),D=C&&C.includes("write")||k?ej.I:ew,L=(0,u.Z)(e.collaborated_by_me,e.owner?.id,x)||k,M=null;M=L?(0,A.jsx)(eT.Z,{bgColor:h?"lightGray":"white",board:e,excludeShareOption:!0,hasBoardToolStyles:O,onArchiveClick:o,onCreatePincode:d,onEditBoardClick:t,onEditSectionClick:n,onMergeClick:_,onUnarchiveClick:a,showCreatePinCodeOption:x.isAuth&&x.isPartner,size:"lg",surface:h?"section":"board"}):(0,A.jsx)(eI,{bgColor:e.header?.large_image_url||!O?"white":"lightGray",board:e,onReportClick:()=>T(!0),showFollow:!0,size:O?"xl":"lg"});let N=z&&(0,ec.ZP)(P).hasNotices;return(0,A.jsxs)(l.Fragment,{children:[I&&(0,A.jsx)(ey,{boardId:e.id,onDismiss:()=>T(!1)}),h?(0,A.jsxs)(l.Fragment,{children:[N&&(0,A.jsx)(eJ.Z,{children:(0,A.jsx)(r.xu,{maxWidth:800,paddingY:10,children:P&&(0,A.jsx)(eu.Z,{boardId:e.id,boardName:e.name,boardSectionId:h.id,isOwnBoard:k,notices:P.notices,sensitivity:P,viewParameter:k?3069:3070,viewType:5})})}),(0,A.jsx)(eV,{boardName:S,boardUrl:`${Z}${j}`,description:h.description??"",overFlowActionsButton:M,sectionName:h.title??""})]}):(0,A.jsx)(r.xu,{"data-test-id":"board-header",paddingX:2,children:(0,A.jsx)(D,{boardId:e.id,ownerAdsOnlyProfileSite:e.owner?.ads_only_profile_site||"",ownerId:e.owner?.id||"",ownerImgSrc:e.owner?.image_key||e.owner?.image_medium_url||e.owner?.image_small_url||"",ownerIsAdsOnlyProfile:e.owner?.is_ads_only_profile||!1,ownerName:e.owner?.full_name||"",ownerUsername:e.owner?.username||"",children:t=>(0,A.jsx)(eW,{board:e,collaborators:t,handleCreatePincode:d,handleShowCollabAndPermissionsModal:s,inRelocateBoardShareButtonExp:O,isBoardPreviewMode:p,onFollowersClick:i,overFlowActionsButton:M,setBoardPreviewMode:g,showPulsar:m,userBlocked:!!e.owner?.blocked_by_me})})})]})}function eQ({boardId:e,collaboratorId:t,collaboratorUsername:i}){(0,l.useEffect)(()=>{(0,B.Z)("BoardOwnershipTransferUpsell","/app/www/save/board/BoardPageContainer/BoardOwnershipTransferUpsell.tsx")},[]);let a=(0,n.I0)(),s=(0,o.s0)(),d=(0,M.Z)();return(0,A.jsx)(r.kC,{justifyContent:"center",width:"100%",children:(0,A.jsx)(r.xu,{marginTop:8,maxWidth:960,paddingX:8,children:(0,A.jsx)(r.XA,{message:d.bt("התבקשתם להסיר בעלות מלוח זה", "You’ve been requested to take over ownership of this board", "boardOwnershipTransferUpsell.message", undefined, true),primaryAction:{accessibilityLabel:d.bt("קבלו", "Accept", "boardOwnershipTransferUpsell.acceptAccessibilityLabel", undefined, true),label:d.bt("קבלו", "Accept", "boardOwnershipTransferUpsell.acceptLabel", undefined, true),onClick:()=>{(0,ep.Z)({url:`/v3/boards/${e}/collaborators/requests/ownership/`,method:"PUT",data:{collaborator:t}}),a((0,E.K8)(i)),s(`/${i}/`)}},secondaryAction:{accessibilityLabel:d.bt("דחייה", "Decline", "boardOwnershipTransferUpsell.declineAccessibilityLabel", undefined, true),label:d.bt("דחייה", "Decline", "boardOwnershipTransferUpsell.declineLabel", undefined, true),onClick:()=>{a((0,eH.xx)(e,t))}},title:d.bt("בקשת בעלות על לוח ממתינה", "Board ownership request pending", "boardOwnershipTransferUpsell.title", undefined, true)})})})}eV.displayName="SectionHeader";var e0=i(869552);function e1({handleAddSection:e,handleCreatePin:t,handleCreateStoryPin:i,surface:n}){(0,l.useEffect)(()=>{(0,B.Z)("FloatingAddButton","/app/www/save/board/BoardPageContainer/FloatingAddButton.tsx")},[]);let{logContextEvent:o}=(0,_.u)(),a=(0,M.Z)(),s=(0,l.useRef)(null),d="board"===n?a.bt("צרו Pin או הוסיפו מקטע", "Create a Pin or add a Section", "BoardPage.ActionBar.AddPinOrSection", undefined, true):a.bt("יצירת Pin", "Create Pin", "BoardPage.ActionBar.AddPin", undefined, true);return(0,A.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 20px rgba(0, 0, 0, 0.1)",left:"50%",transform:"translate(-50%)"}},marginBottom:4,position:"fixed",rounding:"circle",width:56,children:(0,A.jsx)(e0.Z,{idealDirection:"up",isWithinFixedContainer:!0,onAddSection:e,onCreatePin:t,onCreateStoryPin:i,onOpen:()=>{o({event_type:101,element:10776,component:13216,view_type:5,view_parameter:3069})},surface:n,children:({active:e,accessibilityControls:t,openFlyout:i})=>(0,A.jsxs)(r.xu,{color:"default",display:"inlineBlock",rounding:"circle",children:[(0,A.jsx)(r.xG,{ref:s,accessibilityControls:t,accessibilityExpanded:e,accessibilityLabel:d,accessibilityPopupRole:"dialog",icon:"add",onClick:i,selected:e,tooltip:{text:d}}),(0,A.jsx)(h.cs,{anchors:{3006:s.current},idealDirection:"up",placementId:18}),(0,A.jsx)(h.N,{anchors:{3006:s.current},idealDirection:"up",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0})]})})})}var e5=i(59355);let e6=i(488661).HW+1;function e2({handleGoBack:e,hideSensitivityScreen:t,sensitivityScreenAuxData:i}){(0,l.useEffect)(()=>{(0,B.Z)("SensitivityScreen","/app/www/save/board/BoardPageContainer/SensitivityScreen.tsx")},[]);let n=(0,M.Z)();return(0,e5.Q)({component:13860,view_type:5,aux_data:i}),(0,A.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.8)"}},display:"flex",height:"100%",justifyContent:"center",position:"fixed",top:!0,width:"100%",zIndex:new r.Ry(e6),children:(0,A.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:260}},children:(0,A.jsxs)(r.kC,{alignItems:"center",direction:"column",gap:{row:0,column:8},maxWidth:500,children:[(0,A.jsx)(r.X6,{align:"center",color:"light",children:n.bt("לוח זה עשוי להכיל תוכן רגיש", "This board may contain sensitive content", "boardPageContainer.sensitivityScreen.heading", undefined, true)}),(0,A.jsxs)(r.kC,{gap:{row:6,column:0},children:[(0,A.jsx)(r.zx,{color:"red",onClick:e,size:"lg",text:n.bt("חזרה", "Go back", "boardPageContainer.sensitivityScreen.backButton", undefined, true)}),(0,A.jsx)(r.zx,{color:"tertiary",onClick:t,size:"lg",text:n.bt("הציגו בכל מקרה", "View anyway", "boardPageContainer.sensitivityScreen.viewButton", undefined, true)})]}),(0,A.jsx)(r.xu,{paddingY:4,children:(0,A.jsx)(r.xv,{align:"center",color:"light",overflow:"normal",size:"200",children:(0,N.nk)(n.bt("אם אתם רואים משהו שמפר את {{communityGuidelines}} שלנו, דווחו לנו עליו על-ידי לחיצה על הלחצן \"...\" בתחתית Pin כלשהו", "If you see anything that violates our {{communityGuidelines}}, please report it to us by clicking the \"...\" button at the bottom of any Pin", "boardPageContainer.sensitivityScreen.text", undefined, true),{communityGuidelines:(0,A.jsx)(r.xv,{color:"light",inline:!0,size:"200",underline:!0,children:(0,A.jsx)(r.rU,{display:"inlineBlock",href:"https://policy.pinterest.com/en/community-guidelines",target:"blank",underline:"hover",children:n.bt("הנחיות לקהילה", "Community Guidelines", "boardPageContainer.sensitivityScreen.communityGuidelines", undefined, true)})})})})})]})})})}var e3=i(382802),e7=i(421951),e4=i(629616),e8=i(112782),e9=i(900842);function te(e){(0,l.useEffect)(()=>{(0,B.Z)("SectionAddedToast","/app/www/save/board/SectionAddedToast.tsx")},[]);let t=(0,M.Z)(),{boardUrl:i="",onHide:n,slug:o}=e;return(0,A.jsx)(eA.Z,{duration:2e3,href:`${i}${o}`,onHide:n,text:t.bt("מקטע נוסף!", "Section added!", "Toast for successfully creating a new board section", undefined, true)})}var tt=i(551140);let ti=()=>{},tl=(0,h.RL)(18,e=>({board_id:e.board.id,pin_count:e.board.sectionless_pin_count??0}))(function({board:e,experience:t,initialModalType:i,refreshBoardData:B=ti,refreshSectionData:S=ti,setPlacementExtraContext:P=ti,section:C,showPulsar:Z}){let[I,D]=(0,l.useState)(!1),{logContextEvent:L}=(0,_.u)(),N=(0,n.I0)(),R=(0,p.Z)(),{setFooterPlusButtonVisible:U}=(0,j.G)(),K=(0,f.Z)(),G=(0,b.Z)(),q=(0,k.W$)(K,e),{collaborated_by_me:$,id:W,owner:J,pending_ownership_transfer:X,pin_count:V,privacy:Y}=e,{pin_count:ee}=C||{},et=J?.id||"",ei=(0,v.q6)(K,et,G),el=(0,u.Z)($,et,K)||ei,en=K.isAuth&&K.id===X,eo=(0,v.lJ)(K,G),ea=eo&&(0,c.Z)(Y)?`?orbac_subject_id=${eo}`:"",ed=(0,s.Z)(!0),ec=!!C;(0,l.useEffect)(()=>{let t="other";q?t="own":(0,k.Df)(K,e)&&(t="collaborator"),P({board_ownership:t})},[t]),(0,l.useEffect)(()=>(el&&U(!1),()=>{U(!0)}),[U,el]);let{showOneToast:eu}=(0,x.dI)(),e_=(0,o.s0)(),ep=(0,o.TH)(),{previous:eh}=(0,m.ou)(),ef=0===eh.length,em=(0,H.WG)(),ex=(0,f.Z)(),ey=(0,eg.Z)({name:"UserMetadataResource",options:{user:ex}});(0,l.useEffect)(()=>{if(ey&&ey.data&&!em?.boardPinDensity){let{profile_pin_rep_view_type:e}=ey.data;em?.setBoardPinDensity(e??"regular")}});let{handleShowMergeSectionsConfirmationModal:eb,mergeConfirmationModalProps:ev,onConfirm:ew}=(0,O.Z)({board:e}),ej=function(){let e=(0,M.Z)(),{logContextEvent:t}=(0,_.u)(),i=(0,n.I0)(),{showBlockingActionToast:l}=(0,e7.Z)(),o=(0,es.Z)();return({board:n,targetBoard:r})=>{t({event_type:7172,object_id_str:n.id,aux_data:{merge_flow:"menu"}}),i((0,e4.Z)(n.id,r.id,o)).then(()=>{l({actionType:"merge",board:r})}).catch(t=>{e3.Z.showError(t.message||e.bt("מיזוג לוחות נכשל", "Failed to merge boards", "Error message when failed to merge boards", undefined, true))})}}(),eB={board_id:e.id,reason:e.sensitivity_screen?.reason||""},[eS,eA]=(0,l.useState)(!!e.sensitivity_screen?.show_warning&&!el),[eP,eC]=(0,l.useState)(null),[eZ,eI]=(0,l.useState)(i||null),[eT,ek]=(0,l.useState)(e&&(0,e9.Z)(K,e)||"custom"),eE=()=>eI(z.s.boardArchiveConfirmation),eF=()=>{e_(K.isAuth?`/${(0,v.Ms)(K,G)}`:"/",{replace:!0})},ez=e=>{if(R)return void R();eI(z.s.editSection),eC(e)},eO={board_id:e.id,board_pin_count:V};return(0,y.Z)(()=>{let{shouldOpenCollaboratorsModal:e}=ep.state||Object.freeze({});e&&(eI(z.s.collaboratorsAndPermissions),e_({...ep,state:{...ep.state,shouldOpenCollaboratorsModal:!1}},{replace:!0}))}),(0,A.jsx)(w.Z,{objectIdStr:W,viewParameter:q?3069:3070,viewType:5,children:(0,A.jsx)(g.Z,{auxData:eO,objectId:W,view:5,viewParameter:(0,Q.Z)({board:e,viewer:K}),children:(0,A.jsxs)(l.Fragment,{children:[(0,A.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:eS?{filter:"blur(30px)"}:{}},children:[(0,A.jsx)(h._f,{experience:t,placementId:18}),(0,A.jsx)(h.k6,{placementId:1000647}),(0,A.jsxs)(tt.h,{children:[(0,A.jsx)(eY,{board:e,handleBoardEditClick:()=>{L({event_type:101,element:10845,component:13216,view_type:5,view_parameter:3069}),eI(z.s.boardEdit)},handleFollowersClick:()=>{eI(z.s.followers)},handleSectionEditClick:()=>ez(),handleShowBoardArchiveConfirmation:eE,handleShowBoardUnarchiveConfirmation:()=>eI(z.s.boardUnarchiveConfirmation),handleShowCollabAndPermissionsModal:()=>eI(z.s.collaboratorsAndPermissions),handleShowCreatePincodeModal:()=>{if(R)return void R();L({event_type:101,element:10781,component:13217,view_type:5,view_parameter:3069}),eI(z.s.pincode)},handleShowMergeModal:()=>{if(R)return void R();eI(z.s.mergeBoard)},isBoardPreviewMode:I,section:C,setBoardPreviewMode:D,showPulsar:Z}),el&&ec&&!I&&(0,A.jsx)(r.xu,{marginBottom:6,marginTop:6,children:(0,A.jsx)(e8.Z,{boardId:e.id,isBoardEmpty:!V||!ee,sectionId:C?.id})}),en&&(0,A.jsx)(eQ,{boardId:e.id,collaboratorId:K.isAuth?K.id:"",collaboratorUsername:K.isAuth?K.username:""}),eZ!==z.s.jumpstartBoard&&(0,A.jsx)(g.Z,{auxData:eO,component:178,objectId:e.id,view:5,viewParameter:q?3069:3070,children:(0,A.jsx)(er,{board:e,currentView:eT,handleContentViewChange:e=>ek(e),handleSetCurrentModal:eI,handleShowEditSectionModal:ez,handleShowMergeSectionsConfirmationModal:eb,isBoardPreviewMode:I,isHidePinCount:!ec,isOwnBoard:q,isOwnerOrCollaborator:el,isPinGridSorted:"custom"!==eT,refreshBoardData:B,refreshSectionData:S,section:C})}),(0,A.jsx)(T,{boardId:e.id,handleShowArchiveConfirmation:eE}),el&&(0,A.jsx)(e1,{handleAddSection:()=>{if(R)return void R();L({event_type:101,element:10779,component:13217,view_type:5,view_parameter:3069}),eI(z.s.simpleCreateSection)},handleCreatePin:()=>{if(R)return void R();L({component:13217,element:10643,event_type:101,view_parameter:3069,view_type:5}),e_("/pin-builder/",{state:{board:e,boardSection:C}})},handleCreateStoryPin:()=>{if(R)return void R();L({aux_data:{entry_type:"board_plus_button"},component:13217,element:10949,event_type:101,view_parameter:3069,view_type:5}),e_((0,a.Z)(ed),{state:{board:e,entry_type:"board_plus_button",boardSection:C}})},surface:C?"section":"board"})]}),eZ&&(0,A.jsx)(F.Z,{actions:{completeCreateSectionAction:t=>{if(R)return void R();eI(null),eu(({hideToast:i})=>(0,A.jsx)(te,{boardUrl:e.url,onHide:i,slug:t.slug??""}))},onBoardArchiveChange:()=>{N((0,E.K8)(K.isAuth?K.username:""))},onBoardDelete:()=>{B(),eF()},onBoardLeave:()=>{N((0,E.K8)(K.isAuth?K.username:"")),eF()},onBoardMerge:t=>{ej({board:e,targetBoard:t}),eF()},onBoardSectionDelete:()=>{if(eC(null),eI(null),C){let t=e.url??"";e_(`${t}${ea}`,{replace:!0})}},onBoardSectionSave:({slug:t})=>{eC(null),eI(null),C&&e_(`${e.url??""}${t}/${ea}`,{replace:!0})},onConfirmMergeSection:ew},board:e,boardSection:C||eP,currentModal:eZ,mergeConfirmationModalProps:ev,onClearModal:()=>eI(null)}),(0,A.jsx)(h.RK,{placementId:18}),(0,A.jsx)(d.Z,{placementId:18}),(0,A.jsx)(h.nj,{experience:t,placementId:18})]}),eS&&(0,A.jsx)(e2,{handleGoBack:()=>{L({event_type:101,component:13860,element:73,view_type:5,aux_data:{...eB}}),ef&&e_("/",{replace:!0}),e_(-1)},hideSensitivityScreen:()=>{N((0,E.of)(e.id)),L({event_type:101,component:13860,element:12448,view_type:5,aux_data:{...eB}}),eA(!1)},sensitivityScreenAuxData:eB})]})})})})},112782:function(e,t,i){i.d(t,{Z:()=>Z});var l=i(686659),n=i(667294),o=i(740097),r=i(470205),a=i(501010),s=i(619481),d=i(890678),c=i(718846),u=i(550759),_=i(312048),p=i(230201),h=i(753806),f=i(935059),m=i(774838),g=i(575820),x=i(893957),y=i(271875),b=i(32602),v=i(914253),w=i(551140),j=i(305375),B=i(785893);let S=88,A=30,P=({boardTool:e,boardId:t,boardSectionId:i,iconSize:r=A,index:a,toolSize:s=S})=>{(0,n.useEffect)(()=>{(0,l.Z)("BoardTool","/app/www/save/board/BoardTools/BoardTool.tsx")},[]);let[d,c]=(0,n.useState)(!1),u=(0,w.$)(),{icon:P,link:C,text:Z,tool:I}=e,{section_slug:T}=(0,j.Z)(),k=C.split("/").slice(0,3),E=C.split("/").slice(4),F=C.split("/")[3],z=6===I,O=F!==T&&i&&T&&!z?[...k,T,...E].join("/"):C,{isRTL:D}=(0,m.B)(),{logContextEvent:L}=(0,p.u)(),{owner:M,pin_count:N,section_count:R}=(0,v.gC)()(t)||{},H=(0,f.Z)(),U=H.isAuth?H.id:"",K=M?.id===U?3069:3070,G=0===I,q=e=>{1===I&&L({event_type:e,view_type:i?164:5,view_parameter:K,element:10600,aux_data:{board_id:t,board_pin_count:N,board_section_count:R,board_section_id:i,grid_index:a}}),G&&L({event_type:e,view_type:i?164:5,view_parameter:K,component:14926,element:11990,aux_data:{board_id:t,board_session_id:u}}),z&&101===e&&L({event_type:101,component:14926,view_type:i?164:5,view_parameter:K,element:12893,aux_data:{board_id:t,board_session_id:u,board_section_id:i}})};(0,x.Z)(()=>{q(120),G&&q(13)});let $=(0,n.useRef)(null),{setGroupBoardMessageButton:W}=(0,b.Z)(),{conversations:{showConversationsDropdown:J},conversationOpen:X,dropdownOpen:V,dropdownClose:Y}=(0,y.Z)(),Q=(0,_.TH)(),{conversation_id:ee,tab:et}=(0,g.mB)(Q.search),ei=4===I&&!!ee&&"inbox"===et;ei&&W($.current);let el=(e=>{switch(e){case 0:return 3003;case 1:return 3004;case 2:return 3005;default:return}})(I);return(0,B.jsxs)(n.Fragment,{children:[(0,B.jsx)(o.Tg,{ref:$,accessibilityLabel:Z,href:ei?"":O,onBlur:()=>c(!1),onFocus:()=>c(!0),onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onTap:()=>{ei&&(q(102),J?Y():(V(),X(ee))),(G||z)&&q(101)},rounding:6,children:(0,B.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"1px"}},direction:"column",display:"flex",justifyContent:"center",children:[(0,B.jsx)(o.xu,{alignItems:"center",alignSelf:"center",color:d?"lightWash":"secondary",display:"flex",height:s,justifyContent:"center",rounding:6,width:s,children:(0,B.jsx)(o.JO,{accessibilityLabel:Z,color:"default",icon:"text-align-left"===P&&D?"text-align-right":P,size:r})}),(0,B.jsx)(o.xu,{paddingY:1,width:s,children:(0,B.jsx)(o.xv,{align:"center",lineClamp:2,size:"100",weight:"bold",children:Z})})]})}),el&&(0,B.jsxs)(n.Fragment,{children:[(0,B.jsx)(h.cs,{anchors:{[el]:$.current},placementId:18,positionRelativeToAnchor:!1}),(0,B.jsx)(h.N,{anchors:{[el]:$.current},idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0})]})]})};function C(e){let{boardId:t,sectionId:i,iconSize:l,isBoardEmpty:n,toolSize:r,boardOrSectionToolsRef:d}=e,u=(0,c.Z)(),{checkExperiment:_}=(0,a.Z)(),p=_("web_collage_creation").anyEnabled&&!n&&_("web_collage_navigate_from_own_board").anyEnabled,{data:h}=(0,s.Z)(d);if(!h||!h.length)return null;let f=h.filter(({tool:e})=>!u||2===e).filter(({tool:e})=>!n||2!==e).filter(({tool:e})=>p||6!==e).map(e=>6===e.tool?{...e,link:`/collage-creation-tool/?boardId=${t}${i?`&sectionId=${i}`:""}`}:e);return f.length?(0,B.jsx)(o.xu,{"data-test-id":"board-tools",role:"list",children:(0,B.jsx)(o.kC,{alignItems:"start",justifyContent:"center",width:"100%",children:f.map((e,n)=>(0,B.jsx)(o.xu,{"data-test-id":e.text,padding:1,role:"listitem",children:(0,B.jsx)(P,{boardId:t,boardSectionId:i,boardTool:e,iconSize:l,index:n,toolSize:r})},e.id))})}):null}function Z(e){(0,n.useEffect)(()=>{(0,l.Z)("BoardToolsContainer","/app/www/save/board/BoardTools/BoardToolsContainer.tsx")},[]);let{sectionId:t,boardId:i}=e,o=(0,c.Z)(),a=!!t,{ref:s}=(0,d.Z)({name:a?"SectionToolsFeedResource":"BoardToolsFeedResource",options:a?{sectionId:t,orbacSubjectId:o}:{boardId:i,orbacSubjectId:o}});return(0,B.jsx)(r.Z,{name:"BoardToolsContainer_ResourceError",children:(0,B.jsx)(n.Suspense,{fallback:(0,B.jsx)(u.Z,{}),children:(0,B.jsx)(C,{...e,boardOrSectionToolsRef:s})})})}P.displayName="BoardTool"},422872:function(e,t,i){i.d(t,{Z:()=>l});let l=(0,i(667294).createContext)({showAbout:!1,setShowAbout:()=>{}})},635545:function(e,t,i){i.d(t,{Z:()=>h});var l=i(686659),n=i(667294),o=i(740097),r=i(230201),a=i(753806),s=i(24246),d=i(510755),c=i(554365),u=i(36351),_=i(500602),p=i(785893);function h({board:e,hasBoardToolStyles:t,onArchiveClick:i,onCreatePincode:h,onEditBoardClick:f,onEditSectionClick:m,onMergeClick:g,onShowAbout:x,onUnarchiveClick:y,showArchiveOnly:b=!1,showCreatePinCodeOption:v,surface:w,excludeShareOption:j,size:B="sm",bgColor:S="lightGray"}){(0,n.useEffect)(()=>{(0,l.Z)("BoardHeaderOverflowFlyoutButton","/app/www/save/board/Headers/BoardHeader/BoardHeaderOverflowFlyoutButton.tsx")},[]);let A=(0,s.Z)(),P=(0,n.useRef)(null),{logContextEvent:C}=(0,r.u)(),[Z,I]=(0,n.useState)(!1),[T,k]=(0,n.useState)("boardOptions"),[E,F]=(0,n.useState)(!1),z=e.header?.large_image_url?"light":"secondary";z=E?"lightWash":z;let O="automagical"===e.layout,D=()=>{I(!1),k("boardOptions")},L={description:e.description,id:e.id,imageUrl:e.image_cover_url,name:e.name,type:"board",url:e.url,ownerId:e.owner?.id},M=()=>{I(e=>!e),k("boardOptions")},N=!!e.archived_by_me_at,R=["section"===w?function({handleClose:e,onEditClick:t,setMenuType:i},l,n){return{items:[{dataTestId:"edit-section-button",text:l.bt("עריכת מקטע", "Edit Section", "BoardHeader.getSectionOptionsCategory.EditOption", undefined, true),onClick:()=>{t(),e()}},{text:l.bt("שיתוף", "Share", "BoardHeader.getSectionOptionsCategory.ShareOption", undefined, true),onClick:()=>{(0,c.Z)(n),i("boardShare")}}],label:l.bt("אפשרויות המקטע", "Section options", "BoardHeader.getSectionOptionsCategory.OptionsCategory", undefined, true)}}({handleClose:D,onEditClick:m,setMenuType:k},A,C):function({handleClose:e,isArchived:t,isAutomagical:i,onArchiveClick:l,onCreatePincode:n,onEditClick:o,onMergeClick:r,onShowAbout:a,onUnarchiveClick:s,setMenuType:d,showCreatePinCodeOption:u,isAdOnlyPins:_,excludeShareOption:p},h,f,m){let g=[];return i?g.push({dataTestId:"aboutRecommendationsButton",text:h.bt("אודות לוחות שנוצרו בשבילכם", "About boards made for you", "BoardHeader.BoardOptionsFlyout.AboutBoardsForYouOption", undefined, true),onClick:()=>{a?.(),e()}}):(m||g.push({dataTestId:"editBoardButton",text:h.bt("עריכת לוח", "Edit board", "BoardHeader.BoardOptionsFlyout.EditOption", undefined, true),onClick:()=>{o(),e()}}),p||g.push({dataTestId:"shareBoardButton",text:h.bt("שיתוף", "Share", "BoardHeader.BoardOptionsFlyout.ShareOption", undefined, true),onClick:()=>{(0,c.Z)(f),d("boardShare")}}),_||t||g.push({dataTestId:"mergeBoardButton",text:h.bt("מזגו", "Merge", "BoardHeader.BoardOptionsFlyout.MergeOption", undefined, true),onClick:()=>{r(),e()}}),t?g.push({dataTestId:"unarchiveBoardButton",text:h.bt("ביטול שמירה בארכיון", "Unarchive", "BoardHeader.BoardOptionsFlyout.UnarchiveOption", undefined, true),onClick:()=>{s(),e()}}):g.push({dataTestId:"archiveBoardButton",text:h.bt("אחסון בארכיון", "Archive", "BoardHeader.BoardOptionsFlyout.ArchiveOption", undefined, true),onClick:()=>{l(),e()}}),u&&!m&&g.push({dataTestId:"createPinCodeBoardButton",text:h.bt("צרו קוד Pinterest", "Create Pincode", "BoardHeader.BoardOptionsFlyout.PincodeOption", undefined, true),onClick:()=>{n(),e()}})),{items:g,label:h.bt("אפשרויות לוח", "Board options", "BoardHeader.BoardOptionsFlyout.OptionsCategory", undefined, true)}}({handleClose:D,isArchived:N,isAutomagical:O,onArchiveClick:i,onCreatePincode:h,onEditClick:f,onMergeClick:g,onShowAbout:x,onUnarchiveClick:y,setMenuType:k,showCreatePinCodeOption:v,isAdOnlyPins:e.is_ads_only,excludeShareOption:j},A,C,b)];return(0,p.jsxs)(o.xu,{position:"relative",zIndex:new o.Ry(d.fe-1),children:[(0,p.jsx)(o.xu,{ref:P,"data-test-id":"more-board-options",children:t?(0,p.jsx)(o.iP,{onTap:M,rounding:6,children:(0,p.jsx)(o.xu,{color:Z?"selected":z,display:"flex",justifyContent:"center",onMouseEnter:()=>F(!0),onMouseLeave:()=>F(!1),paddingX:5,paddingY:5,rounding:6,children:(0,p.jsx)(o.JO,{accessibilityLabel:"more options",color:Z?"inverse":"default",icon:"ellipsis",size:24})})}):(0,p.jsx)(o.hU,{accessibilityLabel:A.bt("אפשרויות נוספות ללוח", "More Board options", "BoardHeaderOVerflowFlyoutButton.IconButton.AccessibilityLabel", undefined, true),bgColor:S,icon:"ellipsis",iconColor:"darkGray",onClick:M,selected:Z,size:B})}),(0,p.jsx)(a.cs,{anchors:{3001:P.current},onCompleteByAnchor:{3001:M},placementId:18}),(0,p.jsx)(a.N,{anchors:{3001:P.current},idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0}),Z&&("boardOptions"===T?(0,p.jsx)(o.Lt,{anchor:P.current,disableMobileUI:!0,id:"board_options",onDismiss:D,zIndex:_.m6,children:R.map(({items:e,label:t})=>(0,p.jsx)(o.Lt.Section,{label:t,children:e.map(({dataTestId:e,isSelected:t,onClick:i,text:l})=>(0,p.jsx)(o.Lt.Item,{dataTestId:e,onSelect:i,option:{label:l,value:l},selected:t?{label:l,value:l}:null},l))},t))}):(0,p.jsx)(o.J2,{anchor:P.current,onDismiss:D,size:"flexible",children:(0,p.jsx)(u.Z,{component:13216,onCreatePincodeClick:h,onHide:D,sendType:"board",sharedObject:L,viewType:5})}))]})}},316037:function(e,t,i){i.d(t,{Z:()=>D});var l=i(686659),n=i(667294),o=i(740097),r=i(311752),a=i(391529),s=i(853930),d=i(360990),c=i(319226),u=i(24246),_=i(487002),p=i(101504),h=i(112782),f=i(398419),m=i(998551),g=i(774243),x=i(581722),y=i(230201),b=i(943152),v=i(935059),w=i(577356),j=i(211731),B=i(785893);function S(e){(0,n.useEffect)(()=>{(0,l.Z)("ButtonElement","/app/www/save/board/JoinButton/ButtonElement.tsx")},[]);let t=(0,u.Z)(),{onClick:i,requested:r,size:a,useAlternateText:s}=e;return(0,B.jsx)(o.zx,{fullWidth:!0,onClick:i,size:a||"md",text:(r?function(e,t){return t?e.bt("ביטול", "Cancel", "BoardPage.BoardJoinButton.cancel", undefined, true):e.bt("בטלו בקשה", "Cancel request", "[Button] Cancel request to join a group board as a collaborator", undefined, true)}:function(e,t){return t?e.bt("הצטרפו", "Join", "BoardPage.BoardJoinButton.join", undefined, true):e.bt("בקשה להצטרפות", "Request to join", "[Button] Request to join a group board as a collaborator", undefined, true)})(t,s)})}var A=i(924591),P=i(216975);function C(e){(0,n.useEffect)(()=>{(0,l.Z)("JoinCancelToast","/app/www/save/board/JoinButton/JoinCancelToast.tsx")},[]);let t=(0,u.Z)(),{boardImage:i,boardName:r,boardUrl:a,onHide:s}=e,d=(0,B.jsx)(o.xv,{children:(0,P.nk)(t.bt("ביטלתם את הבקשה לשיתוף פעולה ב-{{ boardName }}", "You've cancelled the request to collaborate on {{ boardName }}", "Board.JoinButton.CancelToast", undefined, true),{boardName:(0,B.jsx)(o.xv,{inline:!0,weight:"bold",children:r})})});return(0,B.jsx)(A.Z,{duration:3e3,href:a,imageUrl:i,onHide:s,text:d})}function Z(e){(0,n.useEffect)(()=>{(0,l.Z)("JoinRequestToast","/app/www/save/board/JoinButton/JoinRequestToast.tsx")},[]);let t=(0,u.Z)(),{boardImage:i,boardName:r,boardUrl:a,onHide:s}=e,d=(0,B.jsx)(o.xv,{children:(0,P.nk)(t.bt("ביקשתם להצטרף אל {{ boardName }}", "You've requested to join {{ boardName }}", "Board.JoinButton.RequestToast", undefined, true),{boardName:(0,B.jsx)(o.xv,{inline:!0,weight:"bold",children:r})})});return(0,B.jsx)(A.Z,{href:a,imageUrl:i,onHide:s,text:d})}function I(e){let{boardId:t,boardImage:i,boardName:l,boardUrl:n,isRequestedByMe:r,showPulsar:a,size:s,variant:d}=e,{logContextEvent:c}=(0,y.u)(),u=(0,x.I0)(),_=(0,v.Z)(),p=(0,w.dI)(),h=_.isAuth&&_.id||"",f=(0,b.Z)(),m=(0,j.tV)(),g=({event:e})=>{e.preventDefault(),e.stopPropagation(),f?f():r?(u((0,j.GJ)(t,h)),p.showOneToast(({hideToast:e})=>(0,B.jsx)(C,{boardImage:i,boardName:l,boardUrl:n,onHide:e}))):(u(m(t)),p.showOneToast(({hideToast:e})=>(0,B.jsx)(Z,{boardImage:i,boardName:l,boardUrl:n,onHide:e})));let{action:o,id:a,logContextEvent:s,url:d}={action:r?"request":"cancel",id:t,logContextEvent:c,url:n};s({event_type:101,component:1,element:"request"===o?7499:7547,object_id_str:a,view_type:4,aux_data:{current_page_url:d}})};return h?(0,B.jsxs)(o.xu,{display:"flex",position:"relative",children:[(0,B.jsx)(S,{onClick:g,requested:r,size:s,useAlternateText:"lego"===d}),a&&(0,B.jsx)(o.iP,{onTap:e=>{g(e)},children:(0,B.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:-86,marginTop:-28}},display:"inlineBlock",position:"absolute",children:(0,B.jsx)(o.o3,{paused:r})})})]}):null}var T=i(833847);function k({board:e,boardName:t,collaborators:i,isArchived:r,isBoardPreviewMode:a,isSecret:s,nonDisplayedCollaboratorCount:x,pinCount:y,sectionCount:b,description:v,showPinCount:w,showPulsar:j,showJoinButton:S,isOwnerOrCollaborator:A,handleShowCollabAndPermissionsModal:P}){(0,n.useEffect)(()=>{(0,l.Z)("BoardHeaderDetails","/app/www/save/board/Headers/BoardHeader/BoardHeaderDetails/BoardHeaderDetails.tsx")},[]);let C=(0,u.Z)(),{automagical_board_metadata:Z,featured_board_metadata:k,id:E,image_cover_url:F,layout:z,owner:O={},should_show_board_collaborators:D,url:L,viewer_collaborator_join_requested:M}=e,{curator:N,is_sponsored_content:R}=k||{},{board_type:H,tag_title:U,tagline:K,topic_name:G,upcoming_update_date_text:q}=Z||{},$=R&&N?(0,d.Z)(N):null,W=(0,T.Z)(e),J=A&&!a,X="automagical"===z,V=D&&i.length>1,Y=(0,n.useMemo)(()=>{let e=[];return N?e.push((0,d.Z)(N)):V?e.push(...i):O&&e.push((0,d.Z)(O)),e},[V,i,N,O]),Q=k?.board_tag;return(0,B.jsxs)(o.kC,{alignItems:"start",dataTestId:"board-header-details",direction:"column",gap:6,justifyContent:"start",maxWidth:640,children:[(0,B.jsxs)(o.kC,{alignItems:"start",direction:"column",gap:3,justifyContent:"start",children:[(()=>{let{board_subtitle:e}=k||{};return e?(0,B.jsx)(o.xu,{marginBottom:-1,children:(0,B.jsx)(o.xv,{weight:"bold",children:e})}):null})(),(0,B.jsx)(o.X6,{id:"board-name",size:"700",children:t}),(0,B.jsx)(m.Z,{fontSize:"200",isArchived:r,isAutomagical:X,isFeaturedBoard:W,isSecret:s,pinCount:y,sectionCount:b,showEditorialBoardTag:"number"==typeof Q&&Q>=0,showPinCount:w,subtitle:2===H?K:q,tagTitle:U}),!!v&&(0,B.jsx)(_.Z,{description:v,topicName:G})]}),!X&&(0,B.jsxs)(n.Fragment,{children:[J&&(0,B.jsx)(o.xu,{marginBottom:2,children:(0,B.jsx)(c.HE,{addCollaborators:!0,collaborators:Y,onClick:P,role:"button",size:"sm"})}),J&&(0,B.jsx)(h.Z,{boardId:E,iconSize:24,isBoardEmpty:!y,toolSize:72}),!J&&$&&(0,B.jsx)(f.Z,{board:e,collaborator:(()=>{if(V&&$)return i.find(e=>e.id!==$.id)})(),sponsor:$}),!J&&!$&&(0,B.jsxs)(o.kC,{alignItems:"center",dataTestId:"collaborator-avatar-group-and-names-container",gap:2,children:[(0,B.jsx)(p.Z,{avatarSize:"sm",board:e,displayedCollaborators:Y,isBoardPreviewMode:a,nonDisplayedCollaboratorCount:x}),(0,B.jsxs)(o.xv,{children:[C.bt("באמצעות ", "by ", "board.Headers.BoardHeader.BoardHeaderDetails.by", undefined, true),(0,B.jsx)(g.Z,{board:e,collaborators:Y,overflowNumber:x})]})]})]}),S&&(0,B.jsx)(I,{boardId:E,boardImage:F??"",boardName:t,boardUrl:L,isRequestedByMe:!!M,showPulsar:j,size:"lg",variant:"lego"})]})}var E=i(230689),F=i(401545),z=i(235623),O=i(10516);function D({board:e,boardName:t,collaborators:i,description:d,fullWidth:c=!1,handleShowCollabAndPermissionsModal:u,isArchived:_,isBoardPreviewMode:p,inRelocateBoardShareButtonExp:h,isOwnerOrCollaborator:f,isSecret:m,nonDisplayedCollaboratorCount:g,onCreatePincode:x,overFlowActionsButton:y,pinCount:b,sectionCount:v,setBoardPreviewMode:w,showPinCount:j,showPulsar:S,showJoinButton:A}){(0,n.useEffect)(()=>{(0,l.Z)("BoardHeaderWithImage","/app/www/save/board/Headers/BoardHeader/BoardHeaderWithImage.tsx")},[]);let{featured_board_metadata:P,layout:C,header:Z,owner:I}=e,{isSmallerImage:T,isSmallScreen:D}=(0,O.Z)(),L=(0,s.Z)(I?.id),M="automagical"===C,N=Z?.large_image_url||null,R=P?.has_expanded_sections&&L&&w,H=()=>(0,B.jsxs)(o.kC,{dataTestId:"board-actions-container",gap:2,children:[R&&!M&&(0,B.jsx)(F.Z,{isBoardPreviewMode:p,setBoardPreviewMode:w}),!m&&!M&&(0,B.jsxs)(o.kC,{gap:{row:2,column:0},children:[(0,B.jsx)(z.Z,{boardKey:{type:"Legacy",data:e},color:N?"default":"secondary",handleCreatePincode:x,hasBoardToolStyles:h,hasShadow:!!N,iconColor:"darkGray",showTooltip:h}),(0,B.jsx)(o.xu,{marginEnd:1,children:y})]})]}),U=()=>(0,B.jsx)(k,{board:e,boardName:t,collaborators:i,description:d,handleShowCollabAndPermissionsModal:u,isArchived:_,isBoardPreviewMode:p,isOwnerOrCollaborator:f,isSecret:m,nonDisplayedCollaboratorCount:g,pinCount:b,sectionCount:v,showJoinButton:A,showPinCount:j,showPulsar:S}),K=()=>N?(0,B.jsx)(E.Z,{boardActions:H(),imageUrl:N,imageWidth:T?O.w:void 0}):H(),G=(0,B.jsxs)(o.kC,{alignItems:D||!N||f&&!p?"start":"center",dataTestId:"board-header-with-image",direction:D&&N?"column":"row",gap:8*!!N,justifyContent:"between",children:[(0,B.jsx)(o.xu,{children:D&&N?K():U()}),(0,B.jsx)(o.xu,{maxWidth:D?550:void 0,children:D&&N?U():K()})]});return c?(0,B.jsx)(o.xu,{paddingX:1,width:"100%",children:G}):(0,B.jsx)(r.Z,{isGetServerRenderGridHeaderStyles:!0,maxColumns:a.Sk,children:G})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/44665.he_IL-6328d8543e741ab9.mjs.map