(self.modernJsonp=self.modernJsonp||[]).push([["56125"],{108679:function(e,t,o){var n=o(121296),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return n.isMemo(e)?s:a[e.$$typeof]||i}a[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[n.Memo]=s;var d=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,o,n){if("string"!=typeof o){if(h){var i=f(o);i&&i!==h&&e(t,i,n)}var s=c(o);u&&(s=s.concat(u(o)));for(var a=l(t),_=l(o),m=0;m<s.length;++m){var y=s[m];if(!r[y]&&!(n&&n[y])&&!(_&&_[y])&&!(a&&a[y])){var g=p(o,y);try{d(t,y,g)}catch(e){}}}}return t}},396103:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&Symbol.for,n=o?Symbol.for("react.element"):60103,i=o?Symbol.for("react.portal"):60106,r=o?Symbol.for("react.fragment"):60107,s=o?Symbol.for("react.strict_mode"):60108,a=o?Symbol.for("react.profiler"):60114,l=o?Symbol.for("react.provider"):60109,d=o?Symbol.for("react.context"):60110,c=o?Symbol.for("react.async_mode"):60111,u=o?Symbol.for("react.concurrent_mode"):60111,p=o?Symbol.for("react.forward_ref"):60112,f=o?Symbol.for("react.suspense"):60113,h=o?Symbol.for("react.memo"):60115,_=o?Symbol.for("react.lazy"):60116;function m(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case c:case u:case r:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case d:case p:case l:return e;default:return t}}case _:case h:case i:return t}}}function y(e){return m(e)===u}t.typeOf=m,t.AsyncMode=c,t.ConcurrentMode=u,t.ContextConsumer=d,t.ContextProvider=l,t.Element=n,t.ForwardRef=p,t.Fragment=r,t.Lazy=_,t.Memo=h,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===u||e===a||e===s||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===_||e.$$typeof===h||e.$$typeof===l||e.$$typeof===d||e.$$typeof===p)},t.isAsyncMode=function(e){return y(e)||m(e)===c},t.isConcurrentMode=y,t.isContextConsumer=function(e){return m(e)===d},t.isContextProvider=function(e){return m(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return m(e)===p},t.isFragment=function(e){return m(e)===r},t.isLazy=function(e){return m(e)===_},t.isMemo=function(e){return m(e)===h},t.isPortal=function(e){return m(e)===i},t.isProfiler=function(e){return m(e)===a},t.isStrictMode=function(e){return m(e)===s},t.isSuspense=function(e){return m(e)===f}},121296:function(e,t,o){e.exports=o(396103)},892703:function(e,t,o){var n=o(150414);function i(){}e.exports=function(){function e(e,t,o,i,r,s){if(s!==n){var a=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var o={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return o.checkPropTypes=i,o.PropTypes=o,o}},45697:function(e,t,o){e.exports=o(892703)()},150414:function(e){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},869921:function(e,t){var o="function"==typeof Symbol&&Symbol.for,n=o?Symbol.for("react.element"):60103,i=o?Symbol.for("react.portal"):60106,r=o?Symbol.for("react.fragment"):60107,s=o?Symbol.for("react.strict_mode"):60108,a=o?Symbol.for("react.profiler"):60114,l=o?Symbol.for("react.provider"):60109,d=o?Symbol.for("react.context"):60110,c=o?Symbol.for("react.async_mode"):60111,u=o?Symbol.for("react.concurrent_mode"):60111,p=o?Symbol.for("react.forward_ref"):60112,f=o?Symbol.for("react.suspense"):60113,h=o?Symbol.for("react.suspense_list"):60120,_=o?Symbol.for("react.memo"):60115,m=o?Symbol.for("react.lazy"):60116,y=o?Symbol.for("react.block"):60121,g=o?Symbol.for("react.fundamental"):60117,b=o?Symbol.for("react.responder"):60118,v=o?Symbol.for("react.scope"):60119;function x(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case c:case u:case r:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case d:case p:case m:case _:case l:return e;default:return t}}case i:return t}}}function w(e){return x(e)===u}t.AsyncMode=c,t.ConcurrentMode=u,t.ContextConsumer=d,t.ContextProvider=l,t.Element=n,t.ForwardRef=p,t.Fragment=r,t.Lazy=m,t.Memo=_,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return w(e)||x(e)===c},t.isConcurrentMode=w,t.isContextConsumer=function(e){return x(e)===d},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return x(e)===p},t.isFragment=function(e){return x(e)===r},t.isLazy=function(e){return x(e)===m},t.isMemo=function(e){return x(e)===_},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===a},t.isStrictMode=function(e){return x(e)===s},t.isSuspense=function(e){return x(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===u||e===a||e===s||e===f||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===_||e.$$typeof===l||e.$$typeof===d||e.$$typeof===p||e.$$typeof===g||e.$$typeof===b||e.$$typeof===v||e.$$typeof===y)},t.typeOf=x},659864:function(e,t,o){e.exports=o(869921)},78273:function(e,t,o){function n(e){return"/"===e.charAt(0)}function i(e,t){for(var o=t,n=o+1,i=e.length;n<i;o+=1,n+=1)e[o]=e[n];e.pop()}o.d(t,{Z:()=>r});let r=function(e,t){void 0===t&&(t="");var o,r=e&&e.split("/")||[],s=t&&t.split("/")||[],a=e&&n(e),l=t&&n(t),d=a||l;if(e&&n(e)?s=r:r.length&&(s.pop(),s=s.concat(r)),!s.length)return"/";if(s.length){var c=s[s.length-1];o="."===c||".."===c||""===c}else o=!1;for(var u=0,p=s.length;p>=0;p--){var f=s[p];"."===f?i(s,p):".."===f?(i(s,p),u++):u&&(i(s,p),u--)}if(!d)for(;u--;)s.unshift("..");!d||""===s[0]||s[0]&&n(s[0])||s.unshift("");var h=s.join("/");return o&&"/"!==h.substr(-1)&&(h+="/"),h}},399465:function(e,t,o){o.r(t),o.d(t,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MoreIdeasPreviewStory_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"referringSource",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"474x")'}],type:"Pin",abstractKey:null}],storageKey:null}],type:"Story",abstractKey:null};n.hash="acfbd2e78cfd4a2a1966a92cf1a7b634";let i=n},73910:function(e,t,o){o.d(t,{Z:()=>s});var n=o(618003);let i=new Set([92]),r=new Set([154]);function s(e){let t=[];return e.forEach(e=>{if("story"===e.type?i.has(e.container_type)||r.has(e.container_type)||n.v8.has(e.story_type)||n.AW.has(e.story_type):1){let o=t[t.length-1];Array.isArray(o)?o.push(e):t.push([e])}else t.push(e)}),t}},501010:function(e,t,o){o.d(t,{Z:()=>i});var n=o(774838);let i=()=>(0,n.Ts)().experimentsClient},174481:function(e,t,o){o.d(t,{Z:()=>l});var n=o(667294);let i=null,r=!1,s=0,a=()=>{i&&clearTimeout(i),r=!0,i=setTimeout(()=>{r=!1},100)},l=()=>{let[e,t]=(0,n.useState)(!1),o=(0,n.useRef)(null);(0,n.useEffect)(()=>(0===s&&window.addEventListener("scroll",a),s+=1,()=>{o.current&&clearTimeout(o.current),(s-=1)||window.removeEventListener("scroll",a)}),[]);let i=e=>{o.current&&clearTimeout(o.current),o.current=e&&r?setTimeout(()=>i(!0),100):setTimeout(()=>{t(e)},32)};return{isHovering:e,hoverHandlers:(0,n.useRef)({onMouseOver:()=>i(!0),onMouseLeave:()=>i(!1)}).current}}},662529:function(e,t,o){o.d(t,{a:()=>p,B:()=>c});var n=o(667294),i=o(213491),r=o(681698);let s={boardMap:{}};function a(e,t){if(e=e||s,"BLOCKING_ACTIONS_UPDATED"===t.type){let{payload:{boardId:o,blockingActions:n}}=t,i=null,r=null,s={};return n.forEach(({section_id:e,progress:t,id:o,created_timestamp:n})=>{let a={id:o,createdAt:n,progress:t};e?"-1"===e?i=a:s[e]=a:r=a}),{...e,boardMap:{...e.boardMap,[o]:{wholeBoard:i,unorganized:r,sectionMap:s}}}}return e}var l=o(785893);let{Provider:d,getMaybe:c}=(0,i.Z)("BlockingAction");async function u(e){let t=await (0,r.Z)({url:`/v3/boards/${e}/`,data:{fields:["board.id","board.blocking_actions"]}});return new Promise((e,o)=>{let n=t&&t.resource_response&&t.resource_response.data&&t.resource_response.data.blocking_actions;if(!n)return void o(Error("No blocking actions found in the response"));e(n)})}function p({children:e}){let[t,o]=(0,n.useReducer)(a,s),i=(0,n.useCallback)(e=>u(e).then(t=>(o({type:"BLOCKING_ACTIONS_UPDATED",payload:{boardId:e,blockingActions:t}}),t)),[]),r=(0,n.useMemo)(()=>({blockingActions:t,fetchBlockingActions:i}),[t,i]);return(0,l.jsx)(d,{value:r,children:e})}},421951:function(e,t,o){o.d(t,{Z:()=>b});var n=o(577356),i=o(662529),r=o(686659),s=o(667294),a=o(740097),l=o(100424),d=o(24246),c=o(739405),u=o(785893);function p(e,t,o){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class f extends s.Component{constructor(...e){super(...e),p(this,"state",{hiding:!1,visible:!1}),p(this,"handleHide",()=>{this.setState({hiding:!0}),this.timeout=window.setTimeout(this.props.onHide,l.Vg)}),p(this,"handleMouseEnter",()=>{window.clearTimeout(this.timeout)}),p(this,"handleMouseLeave",()=>{this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3)})}componentDidMount(){this.firstLine&&(window.setTimeout(()=>{this.setState({visible:!0})},100),this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3))}get firstLine(){let{actionType:e,actionStatus:t,location:{isSection:o}}=this.props,n="completed"===t;switch(e){case"create_section":return n?this.props.i18n.bt("מקטע נוצר", "Created section", "toast text to indicate a section has been created successfully", undefined, true):this.props.i18n.bt("יוצר מקטע", "Creating section", "toast text to indicate a section is being created", undefined, true);case"delete_pins":if(o)return n?this.props.i18n.bt("נמחקו סיכות Pin מ-", "Deleted Pins from", "toast text to notify Pins have been deleted from a section", undefined, true):this.props.i18n.bt("מוחק סיכות Pin מ-", "Deleting Pins from", "toast text to notify Pins are being deleted from a section", undefined, true);return n?this.props.i18n.bt("נמחקו סיכות Pin מ-", "Deleted Pins from", "toast text to notify Pins have been deleted from a board", undefined, true):this.props.i18n.bt("מוחק סיכות Pin מ-", "Deleting Pins from", "toast text to notify Pins are being deleted from a board", undefined, true);case"move_pins":if(o)return n?this.props.i18n.bt("הועבר אל", "Moved to", "toast text to notify pins have been moved to this section", undefined, true):this.props.i18n.bt("עובר אל", "Moving to", "toast text to notify pins are being moved to this section", undefined, true);return n?this.props.i18n.bt("הועבר אל", "Moved to", "toast text to notify pins have been moved to this board", undefined, true):this.props.i18n.bt("עובר אל", "Moving to", "toast text to notify pins are being moved to this board", undefined, true);case"merge":if(o)return n?this.props.i18n.bt("הועבר אל", "Moved to", "toast text to notify anotehr section has been merged to this section", undefined, true):this.props.i18n.bt("עובר אל", "Moving to", "toast text to notify another section is being merged to this section", undefined, true);return n?this.props.i18n.bt("הועבר אל", "Moved to", "toast text to notify another board has been merged to this board", undefined, true):this.props.i18n.bt("עובר אל", "Moving to", "toast text to notify another board is being merged to this board", undefined, true);default:return null}}render(){let{actionStatus:e,deviceType:t,location:o}=this.props,{visible:n,hiding:i}=this.state,{firstLine:r}=this,{marginTop:s,opacity:d,position:c,pointerEvents:p,transform:f,transition:h,visibility:_}=(0,l.ZP)({deviceType:t,hiding:i,visible:n});if(!r)return null;let m="inProgress"===e?`${o.name}...`:o.name;return(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transform:f,transition:h,visibility:_,pointerEvents:p}},marginTop:s,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,opacity:d,position:c,children:(0,u.jsx)(a.FN,{text:`${r}: ${m}`,type:"completed"===e?"default":"progress"})})}}function h(e){(0,s.useEffect)(()=>{(0,r.Z)("BoardBlockingActionToast","/app/www/BlockingActionsContext/BoardBlockingActionToast.tsx")},[]);let t=(0,c.ZP)(),o=(0,d.Z)();return(0,u.jsx)(f,{...e,deviceType:t,i18n:o})}let _=["merge","move_pins","create_section"],m=0,y={},g=(e,t,o,n)=>({hideToast:i})=>(0,u.jsx)(h,{actionStatus:e,actionType:t,duration:2e3,location:{name:n?n.title??"":o.name??"",isSection:!!n},onHide:i});function b(){let{showToast:e}=(0,n.dI)(),{fetchBlockingActions:t}=(0,i.B)()??{fetchBlockingActions:e=>new Promise(e=>e([]))};return{showBlockingActionToast:({actionType:o,board:n,section:i})=>{e(g("inProgress",o,n,i)),function({check:e,checkDelay:t,checkInterval:o,onComplete:n}){let i=`timeout${m}`;m+=1;let r=()=>{let t=Date.now();e().then(e=>{let s=Date.now()-t;e?(n(),delete y[i]):y[i]=setTimeout(r,Math.max(1e3,o-s))}).catch(()=>{delete y[i]})};y[i]=setTimeout(r,t)}({check:()=>t(n.id).then(e=>!function({blockingActions:e,actionType:t,boardId:o,sectionId:n}){return e.find(e=>(function(e){switch(e){case 22:return"delete_board";case 7172:case 7173:return"merge";case 900:case 7158:case 7109:return"delete_pins";case 901:case 7108:return"move_pins";case 7100:return"create_section";case 7102:return"delete_section";default:return null}})(e.action_type)===t&&!(_.includes(e.action_type)&&e.is_origin)&&e.board_id===o&&(n?n===e.section_id:!e.section_id||"-1"===e.section_id)&&1!==e.progress)}({blockingActions:e,actionType:o,boardId:n.id,sectionId:i&&i.id})),checkDelay:2e3,checkInterval:5e3,onComplete:()=>e(g("completed",o,n,i))})}}}},680650:function(e,t,o){o.d(t,{Df:()=>i,W$:()=>n,f4:()=>r});let n=(e,t)=>{let o="object"==typeof t?.owner?t.owner?.id:t?.owner;return e.isAuth&&o===e.id},i=(e,t)=>!!(e.isAuth&&t.collaborated_by_me),r=(e,t)=>n(e,t)?3069:3070},838855:function(e,t,o){o.d(t,{G:()=>b,Z:()=>v});var n=o(686659),i=o(667294),r=o(740097),s=o(261954),a=o(309947),l=o(806513),d=o(906127),c=o(70625),u=o(739405),p=o(893957),f=o(596663),h=o(471310),_=o(989045),m=o(759302),y=o(589247),g=o(785893);let b=25;function v({align:e,customLayoutType:t,getColumnSpanConfig:o,getResponsiveModuleConfigForSecondItem:b,emptyState:v,feedItems:x,feedKey:w,maxColumns:P,minColumns:S,pagination:{hasNext:j,isLoadingNext:Z,loadNext:A,refetch:C},pullToRefresh:I,renderFeedItem:M,serverRender:T,isLoadingStateEnabled:E,isLoadingAccessibilityLabel:z,isLoadedAccessibilityLabel:D,layout:B,forceShowLoadingState:O}){(0,i.useEffect)(()=>{(0,n.Z)("SimpleFeed","/app/www/SimpleFeed.tsx")},[]);let $=(0,u.HG)(),{experimentalColumnWidth:k,experimentalGutter:F}=(0,a.Z)(),[L,R]=(0,i.useState)(!1),H=1===P?window.innerWidth:void 0,N="userSearch"===t?window.innerWidth-16:200,W=Z&&0===x.length&&!L&&!E,K="desktopFlashlight"===t||"ideaPage"===t&&$?-2:l.qG,V=S??2;return"userSearch"===t&&(V=1),(0,p.Z)(()=>(window.addEventListener("online",A),()=>window.removeEventListener("online",A))),(0,g.jsxs)(r.xu,{"data-test-id":"MobileFeed",children:[(0,g.jsx)(h.Z,{enabled:!!I,onPull:()=>{C(),R(!0)},refreshing:L}),(0,g.jsxs)(r.xu,{"data-test-id":"grid",marginEnd:K,marginStart:K,opacity:L?.5:1,children:[(0,g.jsx)(d.Z,{isAtEndOfFeed:!j,isPlaceholderGrid:E&&Z&&!x.length,itemCount:x.length,children:x.length?(0,g.jsx)(r.xu,{"data-test-id":"feed",marginTop:(0,f.kk)({isDesktop:$}),children:(0,g.jsx)(c.Z.Consumer,{children:n=>(0,g.jsx)(i.Fragment,{children:(0,g.jsx)(y.Z,{children:(0,g.jsx)(s.default,{_getResponsiveModuleConfigForSecondItem:b,align:e||("ideaPage"===t?"start":void 0),cacheKey:w,columnWidth:$?k??l.yF:H??N,getColumnSpanConfig:o,gutterWidth:$?F??4*l.jC:void 0,id:T?w:void 0,isFetching:O??Z,isLoadedAccessibilityLabel:D??"",isLoadingAccessibilityLabel:z??"",isLoadingStateEnabled:O??!!E,items:x,layout:B??void 0,loadItems:A,maxColumns:P,minCols:V,optOutFluidGridExperiment:null!=P,renderItem:({data:e,itemIdx:t})=>M(e,t),scrollContainerRef:n,serverRender:T})})})})}):Z?(0,g.jsx)(_.Z,{}):v??null}),W&&(0,g.jsx)(r.xu,{column:12,paddingY:2,children:(0,g.jsx)(m.Z,{partialViewportWidth:"desktopFlashlight"===t})})]})]})}},569510:function(e,t,o){o.d(t,{Z:()=>d});var n=o(47755),i=o(660322),r=o(908808),s=o(773382),a=o(779686),l=o(438274);function d(e,t,o){return d=>(0,n.Z)({url:"/v3/board/sections/{source_section}/merge/{target_section}/",urlParams:{source_section:t,target_section:o},method:"POST",data:{fields:["boardsection.id","boardsection.board()","board.id","board.blocking_actions"]}}).then(n=>Promise.all([d((0,r.HG)(e,t)),d((0,i.jB)("BoardSectionsRepinResource",{board_id:e})),d((0,s.Z)(o)),d((0,a.N8)(l.Z.BOARD_SECTION_PINS,o))]).then(()=>n))}},918062:function(e,t,o){o.d(t,{Z:()=>b});var n=o(686659),i=o(667294),r=o(740097),s=o(257680),a=o(935059),l=o(24246),d=o(661376),c=o(73910),u=o(739405),p=o(200619),f=o(601871),h=o(285676),_=o(833847),m=o(645479),y=o(838855),g=o(785893);function b(e){(0,i.useEffect)(()=>{(0,n.Z)("BoardExpandedSections","/app/www/save/board/BoardDefaultTabContent/BoardExpandedSections.tsx")},[]);let t=(0,u.HG)(),o=(0,a.Z)(),b=(0,l.Z)(),v=(0,p.Z)(),x=(0,f.lJ)(o,v),{board:w,onLoadedAll:P,viewParameter:S}=e,{id:j,privacy:Z}=w,A=(0,_.Z)(w),{data:C,isAtEnd:I,isFetching:M,isLoaded:T}=(0,d.Z)({name:"ApiResource",options:{data:{fields:["pin.cacheable_id","pin.created_at","pin.description","pin.domain","pin.grid_title","pin.id","pin.is_downstream_promotion","pin.is_playable","pin.is_repin","pin.is_uploaded","pin.is_video","pin.images[170x,136x136,236x,474x,736x,orig]","pin.link","pin.price_currency","pin.price_value","pin.rich_summary()","pin.repin_count","pin.title","pin.type"]},url:`/v3/board/${j}/expanded_sections/`,redux_normalize_feed:!0,...(0,s.Z)(Z)&&x?{orbac_subject_id:x}:{}}});if((0,i.useEffect)(()=>{I&&P()},[I,P]),!T)return(0,g.jsx)(r.xH,{accessibilityLabel:b.bt("ספינר טעינה של מקטעי לוח", "Board sections loading spinner", " - ", undefined, true),show:!0});let E=(0,c.Z)(C||[]),z={loadNext:()=>void 0,hasNext:I,isLoadingNext:M,refetch:()=>void 0};return(0,g.jsx)(r.xu,{"data-test-id":"board-expanded-sections",id:"board-expanded-sections-wrapper",paddingX:t?2:1,width:"100%",children:E.map((e,o)=>{if(Array.isArray(e)){let t=`board-expanded-sections-feed-${o}`;return(0,g.jsx)(y.Z,{feedItems:e,feedKey:`board-expanded-sections:${j}`,pagination:z,renderFeedItem:(e,t)=>(0,g.jsx)(m.Z,{children:(0,g.jsx)(h.Z,{duploQueryRef:null,pinId:e.id,slotIndex:t,surface:A?"FeaturedBoardPinGrid":"BaseBoardPinGrid",viewParameter:S,viewType:1})})},t)}return"story"===e.type&&"board_expanded_section_title"===e.story_type?(0,g.jsxs)(r.xu,{marginBottom:t?4:2,marginTop:t?8:4,paddingX:t?3:1,children:[(0,g.jsx)(r.X6,{size:t?"600":"400",children:e.title?.format??""}),e.description?.format?(0,g.jsx)(r.xu,{marginTop:2,children:(0,g.jsx)(r.xv,{size:t?"300":"100",children:e.description.format})}):null]},`board-expanded-sections-story-${e.id}`):null})})}},144337:function(e,t,o){o.d(t,{Z:()=>eh});var n=o(667294),i=o(740097),r=o(230201),s=o(943152),a=o(309947),l=o(935059),d=o(739405),c=o(329577),u=o(914253),p=o(686659),f=o(24246),h=o(4533),_=o(34550),m=o(680650),y=o(785893);function g(e,t,o){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}let b=Object.freeze({}),v={custom:11566,newest:11564,oldest:11565,most_comments:11563,most_reactions:11562,by_pinner:11561};class x extends n.Component{constructor(...e){super(...e),g(this,"handleChange",({event:e,value:t})=>{let{onChange:o,viewer:n,board:i}=this.props;e.stopPropagation(),window.scrollTo({top:0,left:0,behavior:"smooth"}),((e,t,o)=>{if(!e.isAuth)return;let n=_.ZP.getItem(h.iT)||b,i=n[e.id]||{},r={...n,[e.id]:{...i,[t.id]:o}};_.ZP.setItem(h.iT,r)})(n,i,t),o&&o(t),this.props.logContextEvent({event_type:101,view_type:5,view_parameter:(0,m.f4)(n,i),component:13475,element:v[t],aux_data:{board_id:i.id}})}),g(this,"logDropdownClick",()=>{let{board:e,viewer:t}=this.props;this.props.logContextEvent({event_type:101,view_type:5,view_parameter:(0,m.f4)(t,e),component:13486,element:11567,aux_data:{board_id:e.id}})}),g(this,"handleKeyPress",e=>{let{charCode:t=0}=e;32===t&&(e.preventDefault(),this.logDropdownClick())})}render(){let{currentView:e}=this.props,t=[{value:"custom",label:this.props.i18n.bt("מותאם אישית", "Custom", "Option for users to filter their Pins in a custom order (as it currently is)", undefined, true)},{value:"most_reactions",label:this.props.i18n.bt("תגובות נוספות", "Most reactions", "Option for users to filter their Pins by the most reactions", undefined, true)}];return(0,y.jsx)("div",{onClick:this.logDropdownClick,onKeyPress:this.handleKeyPress,role:"listbox",tabIndex:0,children:(0,y.jsx)(i.EI,{id:"gbFilterSelectlist",onChange:this.handleChange,size:"lg",value:e,children:t.map(e=>(0,y.jsx)(i.EI.Option,{...e},e.label))})})}}let w=function(e){let{logContextEvent:t}=(0,r.u)(),o=(0,f.Z)();return(0,y.jsx)(x,{...e,i18n:o,logContextEvent:t})};var P=o(828569),S=o(661376);function j({selected:e}){(0,n.useEffect)(()=>{(0,p.Z)("DensityIcons","/app/www/save/board/PinRepViewSelector/DensityIcons.tsx")},[]);let t=(0,f.Z)();return(0,y.jsx)(i.JO,{accessibilityLabel:t.bt("צפוף", "Dense", "Label for selecting the dense pin density view", undefined, true),color:e?"default":"subtle",icon:"view-type-dense",size:24})}function Z({selected:e}){(0,n.useEffect)(()=>{(0,p.Z)("DensityIcons","/app/www/save/board/PinRepViewSelector/DensityIcons.tsx")},[]);let t=(0,f.Z)();return(0,y.jsx)(i.JO,{accessibilityLabel:t.bt("רגיל", "Regular", "Label for selecting the regular pin density view", undefined, true),color:e?"default":"subtle",icon:"view-type-default",size:24})}var A=o(249347),C=o(189634);class I extends n.Component{constructor(...e){var t,o,n;super(...e),t="handleItemChange",o=({activeIndex:e})=>{let{viewType:t,component:o,pinView:n,logContextEvent:i}=this.props,r=0===e?"regular":"dense";(0,A.Z)({boardDensity:r,component:o,viewType:t},i),(0,C.Z)({density:r,surface:n}),"board"===n?this.props.updateBoardPinDensity?.(r):this.props.updateProfilePinDensity?.(r)},(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in this?Object.defineProperty(this,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[t]=o}componentDidUpdate(){let{metadata:e,pinView:t,updatedBoardPinDensity:o,updateBoardPinDensity:n,updateProfilePinDensity:i}=this.props;if(e&&e.data&&""===o){let{profile_pin_rep_view_type:o,board_pin_rep_view_type:r}=e.data;"board"===t&&(o?n?.(o):n?.("regular")),"profile"===t&&(r?i?.(r):i?.("regular"))}}render(){let{metadata:e,updatedBoardPinDensity:t}=this.props;return e&&e.data?(0,y.jsx)("div",{className:"OwnBoardSelector",children:(0,y.jsx)(i.sY,{items:[(0,y.jsx)(Z,{selected:"regular"===t}),(0,y.jsx)(j,{selected:"dense"===t})],onChange:this.handleItemChange,responsive:!0,selectedItemIndex:+("dense"===t)})}):null}}function M(e){(0,n.useEffect)(()=>{(0,p.Z)("PinRepViewSelector","/app/www/save/board/PinRepViewSelector/PinRepViewSelector.tsx")},[]);let t=(0,c.WG)(),{logContextEvent:o}=(0,r.u)(),i=(0,l.Z)(),s=(0,S.Z)({name:"UserMetadataResource",options:{user:{id:i.isAuth?i.username:""}},noCache:!0}),a=("board"===e.pinView?t?.boardPinDensity:t?.profilePinDensity)??"";return(0,y.jsx)(I,{...e,logContextEvent:o,metadata:s,updateBoardPinDensity:t?.setBoardPinDensity,updatedBoardPinDensity:a,updateProfilePinDensity:t?.setProfilePinDensity})}function T({board:e,currentView:t,inBoardOrganizationMode:o,onContentViewChange:r,onOrganizeClick:s,pinCount:a,showSortOptions:d}){(0,n.useEffect)(()=>{(0,p.Z)("BoardPinsActionBar","/app/www/save/board/BoardDefaultTabContent/BoardPinsActionBar.tsx")},[]);let c=(0,f.Z)(),u=(0,l.Z)();return(0,y.jsxs)(i.xu,{alignItems:"center",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,children:[(0,y.jsx)(i.xu,{flex:"grow",paddingX:1,children:(0,y.jsx)(i.X6,{children:c.bt("Pin", "Pins", "Heading for Pins outside of board sections on board page", undefined, true)})}),d&&a<=500&&(0,y.jsx)(i.xu,{paddingX:2,children:(0,y.jsx)(w,{board:e,currentView:t,onChange:r,viewer:u})}),a>=P.Ev&&(0,y.jsxs)(n.Fragment,{children:[a>=P.IK&&(0,y.jsx)(M,{component:13183,pinView:"board",viewType:5}),!o&&(0,y.jsx)(i.xu,{paddingX:2,children:(0,y.jsx)(i.zx,{fullWidth:!0,onClick:s,text:c.bt("ארגנו", "Organize", "The board organization button", undefined, true)})})]})]})}var E=o(581722),z=o(257680),D=o(250026),B=o(200619),O=o(601871),$=o(47755),k=o(779686),F=o(438274),L=o(918062),R=o(2587),H=o(828801),N=o(728027),W=o(261954),K=o(902123),V=o(595403),G=o(742346);function X(e,t,o){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function U(e){let{allowReordering:t,board:o,canEdit:n,display:r,dragDrop:s,index:a,isDragging:l,oneTapMovePinsHandler:d,onShowEditSectionModal:c,organizeMode:u,section:p}=e,f=s&&s.target;return(0,y.jsx)(i.xu,{height:"100%",children:(0,y.jsx)(K.q,{children:({focused:e,hovered:i,onBlur:s,onFocus:h,onMouseEnter:_,onMouseLeave:m})=>(0,y.jsx)(V.Z,{allowReordering:t,board:o,boardSection:p,canEdit:n,display:r,focused:e,hovered:i,inOrganizationMode:u,isDragging:l,isMergeTarget:!!f&&"merge"===f.action&&a===f.index,onBlur:e=>{let{currentTarget:t}=e;setTimeout(()=>{t.contains(document.activeElement)||s()},0)},oneTapMovePinsHandler:d,onFocus:h,onMouseEnter:_,onMouseLeave:m,onShowEditSectionModal:c})})})}function J(e){let{allowReordering:t,board:o,canEdit:n,dragDrop:r,handleSectionDragBegin:s,handleSectionDragEnd:l,handleSectionDragHover:d,isDragging:u,isDragWithinBounds:p,oneTapMovePinsHandler:f,onShowEditSectionModal:h,organizeMode:_,sections:m}=e,{experimentalGutter:g}=(0,a.Z)(),b=(0,c.WG)()?.boardPinDensity??"",v=(0,G.EE)(b);return(0,y.jsx)(W.default,{cacheKey:`board-boardsections:${o.id}`,columnWidth:v,gutterWidth:g,items:m,layout:"flexible",minCols:2,renderItem:({data:e,itemIdx:a})=>{let c=(0,y.jsx)(U,{allowReordering:t,board:o,canEdit:n,display:"responsive",dragDrop:r,index:a,isDragging:u,oneTapMovePinsHandler:f,onShowEditSectionModal:h,organizeMode:_,section:e});return(0,y.jsx)(i.xu,{height:"100%",children:t?(0,y.jsx)(R.Z,{index:a,onDragBegin:s,onDragEnd:l,onDragHover:d,type:R.y.Section,children:(0,y.jsx)("div",{style:{opacity:u&&!p?.5:1},children:c})}):(0,y.jsx)(i.xu,{height:"100%",children:c})},e.id)}})}class q extends n.Component{constructor(...e){super(...e),X(this,"state",{dragDrop:null,sectionIds:this.props.sections.map(e=>e.id??"")}),X(this,"cancelHoverTimeout",()=>{let{dragHoverTimeout:e}=this;e&&clearTimeout(e.timeoutId),this.dragHoverTimeout=null}),X(this,"dragHoverTimeout",null),X(this,"isDragging",()=>!!this.state.dragDrop),X(this,"handleSectionDragBegin",e=>{this.setState({dragDrop:{previewIndex:e,sourceIndex:e,target:null}})}),X(this,"handleSectionDragHover",(e,t)=>{var o;let{dragDrop:n}=this.state,i=this.props.allowReordering;if(!t||!n)return;let{previewIndex:r}=n,s=function({hoverRelativePosition:{positionRelativeToCenter:{x:e},boundingBox:{width:t}},centerEnabled:o}){return Math.abs(e)<(o?.5*t:0)/2?"center":e<0?"left":"right"}({hoverRelativePosition:t,centerEnabled:e!==r&&i}),a={itemIndex:e,regionWithinItem:s};if(this.dragHoverTimeout&&(o=this.dragHoverTimeout.hoverLocation,a.itemIndex===o.itemIndex&&a.regionWithinItem===o.regionWithinItem))return;this.cancelHoverTimeout();let l="center"===s?"merge":"reorder",d={action:l,index:function({hoverLocation:{itemIndex:e,regionWithinItem:t},sourceIndex:o}){if("center"===t||e===o)return e;let n="left"===t;return e<o===n?e:n?e-1:e+1}({hoverLocation:a,sourceIndex:r})};if(d.index===r){n.target&&n.target.index!==d.index&&this.setState({dragDrop:{...n,target:d}});return}this.dragHoverTimeout={hoverLocation:a,timeoutId:setTimeout(()=>{this.dragHoverTimeout=null,"reorder"===l?this.setState(({dragDrop:e,sectionIds:t})=>({dragDrop:{...e,target:d,previewIndex:d.index},sectionIds:(0,D.Z)(t,r,d.index)})):this.setState(({dragDrop:e})=>({dragDrop:{...e,target:d}}))},"reorder"===l?200:20)}}),X(this,"handleSectionDragEnd",e=>{let{sections:t,onShowMergeSectionsConfirmationModal:o,onSectionReorder:n}=this.props,{dragDrop:i,sectionIds:r}=this.state,s=i&&i.target;if(this.cancelHoverTimeout(),!e||!i||!s||s.index===i.sourceIndex)return void this.setState({dragDrop:null,sectionIds:t.map(e=>e.id??"")});let{previewIndex:a,sourceIndex:l}=i,{action:d,index:c}=s;if(this.setState({dragDrop:null}),"merge"===d){let e=e=>{let o=r[e];return o&&t.find(({id:e})=>e===o)},n=e(a),i=e(c);n&&i&&o(n,i)}else n(l,c)})}componentDidUpdate(e){let{sections:t}=e,{sections:o}=this.props,n=e=>e.map(({id:e})=>e).join(",");if(t.length!==o.length&&n(t)!==n(o)){this.cancelHoverTimeout();let e=o.map(e=>e.id??"");this.setState({dragDrop:null,sectionIds:e})}}componentWillUnmount(){this.cancelHoverTimeout()}render(){let{allowReordering:e,connectDropTarget:t,isDragWithinBounds:o,sections:n}=this.props,{sectionIds:r}=this.state,s=this.isDragging(),a=n.reduce((e,t)=>t.id?{...e,[t.id]:t}:e,{}),l=(0,y.jsx)(J,{allowReordering:e,board:this.props.board,canEdit:this.props.canEdit,dragDrop:this.state.dragDrop,handleSectionDragBegin:this.handleSectionDragBegin,handleSectionDragEnd:this.handleSectionDragEnd,handleSectionDragHover:this.handleSectionDragHover,isDragging:s,isDragWithinBounds:o??!1,oneTapMovePinsHandler:this.props.oneTapMovePinsHandler,onShowEditSectionModal:this.props.onShowEditSectionModal,organizeMode:this.props.organizeMode,sections:r.map(e=>a[e]).filter(e=>!!e)});return(0,y.jsxs)(i.xu,{width:"100%",children:[e&&t?t((0,y.jsx)("div",{children:l})):l,s&&(0,y.jsx)(H.Z,{})]})}}let Y=(0,N.Z)(R.y.Section)(q);function Q(e){(0,n.useEffect)(()=>{(0,p.Z)("BoardSectionList","/app/www/save/board/BoardDefaultTabContent/BoardSectionList.tsx")},[]);let t=(0,f.Z)(),{allowReordering:o,fetchMore:r,isAtEnd:s,isFetching:a}=e;return(0,y.jsxs)(i.xu,{width:"100%",children:[(0,y.jsx)(i.gr,{fetchMore:r,isAtEnd:s,isFetching:a}),o?(0,y.jsx)(Y,{...e}):(0,y.jsx)(q,{...e}),a&&!s&&(0,y.jsx)(i.xu,{paddingY:6,position:"relative",children:(0,y.jsx)(i.xH,{accessibilityLabel:t.bt("טוען מקטעים", "Loading sections", "loading state for board sections", undefined, true),show:!0})})]})}class ee extends n.Component{constructor(...e){var t,o,n;super(...e),t="handleSectionReorder",o=(e,t)=>{let{board:o,dispatch:n,enableReordering:i,sections:r,viewParameter:s}=this.props;if(!i)return;let a=r[e].id,l=r[t].id,d=(0,D.Z)(r,e,t).map(e=>e.id),c=d.indexOf(a),u=e=>e>=0&&e<d.length,p={boardId:o.id,sourceSectionId:a,targetSectionId:l,...u(c+1)?{sectionIdAfter:d[c+1]}:{},...u(c-1)?{sectionIdBefore:d[c-1]}:{}},f={object_id_str:a,view_type:5,view_parameter:s};n(e=>{let{boardId:t,sectionIdBefore:o,sectionIdAfter:n,sourceSectionId:i,targetSectionId:r}=p;e((0,k._f)({feedType:F.Z.BOARD_SECTIONS,feedId:t,itemType:"boardsection",sourceItemId:i,targetItemId:r}));let s=Object.freeze({});return o&&(s={...s,section_before:o}),n&&(s={...s,section_after:n}),(0,$.Z)({url:"/v3/board/sections/{section}/reorder/",urlParams:{section:i},method:"POST",data:s})}).then(()=>this.props.logContextEvent({event_type:7133,...f}))},(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in this?Object.defineProperty(this,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[t]=o}componentDidMount(){(0,p.Z)("BoardSections","/app/www/save/board/BoardDefaultTabContent/BoardSections.tsx");let{sectionsInvalidated:e,onLoadedAll:t,sectionsResource:{isFetching:o,refresh:n,isAtEnd:i}}=this.props;e&&!o&&n(),i&&t()}componentDidUpdate(e){let{sectionsInvalidated:t,sectionsResource:o}=e,{sectionsInvalidated:n,isFetching:i,refreshData:r,sectionsResource:s}=this.props;!n||t||i||r(),!o.isAtEnd&&s.isAtEnd&&this.props.onLoadedAll()}render(){let{board:e,enableReordering:t,i18n:o,inBoardOrganizationMode:n,oneTapMovePinsHandler:r,onShowEditSectionModal:s,onShowMergeSectionsConfirmationModal:a,sections:l,sectionsResource:d,viewer:c,orbacActingAs:u}=this.props,{access:p,owner:f}=e,{isLoaded:h,isFetching:_,fetchMore:m,isAtEnd:g}=d;if(!h)return o.bt("ספינר טעינה של מקטעי לוח", "Board sections loading spinner", "BoardPage.BoardSections.loadingSpinner", undefined, true),(0,y.jsx)(i.xH,{accessibilityLabel:o.bt("ספינר טעינה של מקטעי לוח", "Board sections loading spinner", " - ", undefined, true),show:!0});let b=(p||[]).includes("write")||(0,O.D3)(c,f?.id||"",u);return(0,y.jsx)(i.kC,{alignItems:"stretch",justifyContent:"center",children:(0,y.jsx)(Q,{allowReordering:t,board:e,canEdit:b,fetchMore:m,isAtEnd:g,isFetching:_,oneTapMovePinsHandler:r,onSectionReorder:this.handleSectionReorder,onShowEditSectionModal:s,onShowMergeSectionsConfirmationModal:a,organizeMode:n,sections:l})})}}function et(e){let{logContextEvent:t}=(0,r.u)(),o=(0,f.Z)(),n=(0,l.Z)(),i=(0,B.Z)(),s=(0,O.lJ)(n,i),{board:a}=e,{id:d,privacy:c}=a,u=(0,S.Z)({name:"BoardSectionsResource",options:{board_id:d,redux_normalize_feed:!0,...(0,z.Z)(c)&&s?{orbac_subject_id:s}:{}}}),p=(0,E.v9)(e=>e.feeds[`${F.Z.BOARD_SECTIONS}:${d}`]),h=(0,E.v9)(e=>(p||[]).reduce((t,o)=>"boardsection"===o.type&&e.boardsections[o.id]?t.concat([e.boardsections[o.id]]):t,[])),_=null===p,m=(0,E.I0)(),g=n.isAuth&&a.owner?.id===n.id||a.collaborated_by_me;return!(0,z.Z)(c)||s||g?(0,y.jsx)(ee,{...e,dispatch:m,i18n:o,logContextEvent:t,orbacActingAs:i,sections:h,sectionsInvalidated:_,sectionsResource:u,viewer:n}):null}function eo(e){(0,n.useEffect)(()=>{(0,p.Z)("BoardSections","/app/www/save/board/BoardDefaultTabContent/BoardSections.tsx")},[]);let t=(0,l.Z)(),o=(0,B.Z)(),{board:i,isBoardPreviewMode:r}=e,{access:s,featured_board_metadata:a,owner:d}=i||{},{has_expanded_sections:c}=a||{},u=(s||[]).includes("write")||(0,O.D3)(t,d?.id||"",o);return c&&(!u||r)?(0,y.jsx)(L.Z,{...e}):(0,y.jsx)(et,{...e})}var en=o(101267),ei=o(844677),er=o(962935),es=o(768033),ea=o(836643);function el(e){let t=(0,l.Z)(),o=(0,B.Z)(),n=(0,O.lJ)(t,o),{board:i,currentView:r,currentFilter:s,viewer:a}=e,d=(0,S.Z)({name:"BoardFeedResource",options:(0,er.q)(i,a,r,s,n),noCache:i.owner.username===a.username||i.collaborated_by_me}),c=(0,E.v9)(({feeds:t,desktopStories:o})=>(0,ea.Z)(t[`${F.Z.BOARDFEED}:${e.board.id}`],o));return(0,y.jsx)(es.Z,{...e,...c,resource:d})}el.displayName="BoardSectionlessPinGrid";var ed=o(755533),ec=o(849273),eu=o(338170),ep=o(173842),ef=o(93894);function eh({actions:e,board:t,bulkEditSelectedPins:o,currentFilter:p,currentView:f,displayActionBar:h,enableReordering:_,inBoardOrganizationMode:m,inSectionOrganizationMode:g,inSelectAll:b,isBoardPreviewMode:v,isOwnBoard:x,isPinGridSorted:w,onBulkEditPinClick:S,onContentViewChange:j,oneTapMovePinsHandler:Z,onShowEditSectionModal:A,onShowMergeSectionsConfirmationModal:C,refreshFilteredFeed:I,viewParameter:M}){let E=(0,u.gC)()(t.id),z=(E?E.section_count:t.section_count)||0,D=(0,c.WG)()?.boardPinDensity,{logContextEvent:B}=(0,r.u)(),[O,$]=(0,n.useState)(0===z),k=(0,s.Z)(),F=(0,ed.Z)(t.url),L=(0,l.Z)(),R=(0,d.ZP)(),{experimentalGutter:H}=(0,a.Z)(),{is_collaborative:N,pin_count:W}=t,K=(t.access||[]).includes("write"),V=x||t.collaborated_by_me,G=!!("number"==typeof W&&W>=P.Oj&&N&&V);return(0,y.jsxs)(i.xu,{marginBottom:12,children:[(0,y.jsx)(ei.Z,{setMaxWidth:!1,children:(0,y.jsxs)(i.xu,{children:[z>0&&(!p||p===en.c)&&(0,y.jsx)(eo,{board:t,enableReordering:_,inBoardOrganizationMode:!!m,isBoardPreviewMode:v,oneTapMovePinsHandler:Z,onLoadedAll:()=>$(!0),onShowEditSectionModal:A,onShowMergeSectionsConfirmationModal:C,viewParameter:M}),h&&O&&V&&z>0&&(0,y.jsx)(T,{board:t,currentView:f,inBoardOrganizationMode:m,onContentViewChange:j,onOrganizeClick:()=>{if(k)return void k();let{onBoardOrganizeClick:t}=e;B({event_type:101,component:69,element:400,view_type:5}),t&&t(!0)},pinCount:W??0,showSortOptions:G})]})}),"desktop"===R&&O&&(0,y.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"8px"}},"data-test-id":"board-feed",paddingX:0,position:"relative",children:(0,y.jsx)(el,{board:t,bulkEditSelectedPins:o,currentFilter:p,currentView:f,denseViewSelected:K&&"dense"===D,inBoardOrganizationMode:m,inSectionOrganizationMode:g,inSelectAll:b,isOwnBoard:x,isPinGridSorted:w,onBulkEditPinClick:S,refreshFilteredFeed:I,renderBoardShopModule:(e,t=!1)=>(0,y.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:H?{paddingLeft:H,paddingRight:H}:{}},marginBottom:6,children:(0,y.jsx)(ec.Z,{isTopVariant:t,storyId:e})}),renderFeaturedBoardsStory:e=>(0,y.jsx)(i.xu,{marginBottom:6,children:(0,y.jsx)(eu.Z,{isOwnBoard:x,storyId:e})}),renderFooterStory:e=>m||t.archived_by_me_at||!V?null:(0,y.jsx)(i.xu,{marginBottom:6,children:(0,y.jsx)(ei.Z,{children:(0,y.jsx)(ef.Z,{collection:t,storyId:e,url:F})})}),renderMoreIdeas:e=>V?null:(0,y.jsx)(i.xu,{marginBottom:6,children:(0,y.jsx)(ep.default,{storyId:e})}),viewer:L,viewParameter:M})})]})}},592444:function(e,t,o){o.d(t,{Z:()=>u});var n=o(667294),i=o(581722),r=o(230201),s=o(943152),a=o(382802),l=o(24246),d=o(421951),c=o(569510);function u({board:e}){let{logContextEvent:t}=(0,r.u)(),o=(0,l.Z)(),[u,p]=(0,n.useState)(null),f=(0,i.I0)(),{showBlockingActionToast:h}=(0,d.Z)(),_=(0,s.Z)();return{handleShowMergeSectionsConfirmationModal:(e,t)=>{if(_)return void _();p({source:e,target:t})},mergeConfirmationModalProps:u,onConfirm:()=>{if(_)return void _();if(!u)return;let{source:n,target:i}=u;p(null),t({event_type:7173,object_id_str:n.id,aux_data:{merge_flow:"dnd"}}),f((0,c.Z)(e.id,n.id??"",i.id??"")).then(()=>{h({actionType:"merge",board:e,section:i})}).catch(e=>{a.Z.showError(e.message||o.bt("נכשל במיזוג מקטעים", "Failed to merge sections", "useSectionMergeAction.errorMessage", undefined, true))})}}}},962935:function(e,t,o){o.d(t,{q:()=>i});var n=o(101267);function i(e,t,o,i,r){let{owner:s}=e,a=s?.id===t.id,l="react_grid_pin";return t.isPartner&&a&&(l="partner_react_grid_pin"),{board_id:e.id,board_url:e.url??"",currentFilter:i,field_set_key:l,filter_section_pins:!i||i===n.c,sort:"most_reactions"===o?"most_reactions":"default",layout:e.layout??"",page_size:25,redux_normalize_feed:!0,...r?{orbac_subject_id:r}:Object.freeze({})}}},844677:function(e,t,o){o.d(t,{Z:()=>a});var n=o(686659),i=o(667294),r=o(740097),s=o(785893);function a({children:e,setMaxWidth:t=!0}){return(0,i.useEffect)(()=>{(0,n.Z)("BoardPageLayoutWrap","/app/www/save/board/BoardPageLayoutWrap.tsx")},[]),(0,s.jsx)(r.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:t?(0,s.jsx)(r.xu,{maxWidth:774,paddingX:2,width:"100%",children:e}):(0,s.jsx)(r.xu,{width:"100%",children:e})})}},755533:function(e,t,o){function n(e=""){return`${e}_tools/more-ideas/`}o.d(t,{Z:()=>n})},93894:function(e,t,o){o.d(t,{Z:()=>y});var n,i=o(686659),r=o(667294),s=o(581722);o(167912);var a=o(740097),l=o(230201),d=o(183e3),c=o(24246),u=o(174481),p=o(775309),f=o(785893);let h=(void 0!==n||(n=o(399465)).hash&&"acfbd2e78cfd4a2a1966a92cf1a7b634"!==n.hash&&console.error("The definition of 'MoreIdeasPreviewStory_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function _({pin:e}){return(0,f.jsx)(a.zd,{rounding:4,width:138,children:(0,f.jsx)(p.Z,{height:207,pin:e&&"Pin"===e.__typename?{imageUrl:e.imageSpec_474x?.url??"",dominantColor:e.dominantColor??"",description:e.description??""}:null,width:138})})}function m({collection:e,storyKey:t,url:o}){(0,r.useEffect)(()=>{(0,i.Z)("MoreIdeasPreviewStory","/app/www/save/board/MoreIdeasPreviewStory/MoreIdeasPreviewStory.tsx")},[]);let{logContextEvent:n}=(0,l.u)(),s=(0,c.Z)(),{isHovering:p,hoverHandlers:m}=(0,u.Z)(),y=(0,d.Z)(h,t);if(!y)return null;let g=y.objects&&y.objects.filter(e=>"Pin"===e.__typename&&"pin"===e.type)||[];return(0,f.jsx)("div",{className:"moreIdeasOnBoard",children:(0,f.jsx)(a.Tg,{fullWidth:!1,href:`${o}?ideas_referrer=${y.referringSource??""}`,onMouseEnter:m.onMouseOver,onMouseLeave:m.onMouseLeave,onTap:()=>n({event_type:101,element:10600,view_type:"boardsection"===e.type?164:5,object_id_str:e.id,view_parameter:3069}),rounding:4,children:(0,f.jsxs)(a.xu,{alignItems:"start",color:p?"secondary":"default",direction:"column",display:"flex",justifyContent:"start",marginEnd:-3,paddingX:3,paddingY:2,rounding:4,width:"100%",children:[(0,f.jsx)(a.xu,{padding:2,children:(0,f.jsx)(a.X6,{lineClamp:1,size:"400",children:"boardsection"===e.type?s.bt("מצאו רעיונות עבור מקטע זה:", "Find some ideas for this section:", "Call-to-action text that upsells more ideas tab for an empty section", undefined, true):s.bt("מצאו רעיונות עבור לוח זה:", "Find some ideas for this board:", "Call-to-action text that upsells more ideas tab for an empty board", undefined, true)})}),(0,f.jsx)(a.xu,{display:"flex",justifyContent:"between",padding:2,role:"list",width:"100%",children:[...[,,,,,].keys()].map(e=>{let t=g[e],o=t&&"Pin"===t.__typename&&t.description?t.description.trim():"";return(0,f.jsx)(a.xu,{"data-test-id":o?"pin-with-alt-text":"pin-missing-alt-text",role:"listitem",children:(0,f.jsx)(_,{pin:t})},`${t&&"Pin"===t.__typename&&t.entityId?t.entityId:e}`)})})]})})})}function y(e){(0,r.useEffect)(()=>{(0,i.Z)("MoreIdeasPreviewStory","/app/www/save/board/MoreIdeasPreviewStory/MoreIdeasPreviewStory.tsx")},[]);let t=(0,s.v9)(t=>t.desktopStories[e.storyId]),o="board_ideas_preview_detailed"===t.story_type?t:void 0;return(0,f.jsx)(m,{...e,storyKey:void 0!==o?{type:"Legacy",data:o}:null})}},775309:function(e,t,o){o.d(t,{Z:()=>c});var n=o(686659),i=o(667294),r=o(740097),s=o(24246),a=o(696749),l=o(785893);function d({pinCount:e,height:t,size:o}){let n=(0,s.Z)(),i=(0,a.Z)(n.bt("+{{ pinCount }}", "+{{ pinCount }}", "+N count overlay on pin selections", undefined, true),{pinCount:e});return(0,l.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0,.2)"}},display:"flex",height:t,justifyContent:"center",children:"sm"===o?(0,l.jsx)(r.xv,{color:"light",size:"200",weight:"bold",children:i}):(0,l.jsx)(r.X6,{color:"light",size:"600",children:i})})}function c({additionalPinCount:e,additionalPinCountSize:t="lg",pin:o,width:s,height:a,rounded:c}){return(0,i.useEffect)(()=>{(0,n.Z)("PreviewPin","/app/www/save/board/PreviewPin/PreviewPin.tsx")},[]),(0,l.jsx)(r.zd,{height:a,rounding:4*!!c,wash:!0,width:s,children:o&&(0,l.jsx)(r.Ee,{alt:o.description,color:o.dominantColor,fit:"cover",naturalHeight:a,naturalWidth:s,src:o.imageUrl,children:!!e&&(0,l.jsx)(d,{height:a,pinCount:e,size:t})})})}},900842:function(e,t,o){o.d(t,{Z:()=>s});var n=o(4533),i=o(34550);let r=Object.freeze({});function s(e,t){let o=i.ZP.getItem(n.iT)||r;return(e.isAuth&&o[e.id]||{})[t.id]||null}},216019:function(e,t,o){function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)({}).hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(null,arguments)}o.d(t,{Z:()=>n})},920727:function(e,t,o){o.d(t,{Z:()=>i});var n=o(986143);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,n.Z)(e,t)}},70443:function(e,t,o){function n(e,t){if(null==e)return{};var o={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;o[n]=e[n]}return o}o.d(t,{Z:()=>n})},986143:function(e,t,o){function n(e,t){return(n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}o.d(t,{Z:()=>n})},121835:function(e,t,o){o.d(t,{Z:()=>n});function n(e,t){if(!e)throw Error("Invariant failed")}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/56125.he_IL-ff99e3739e6540dd.mjs.map